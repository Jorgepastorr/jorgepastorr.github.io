
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Jorge Pastor">
      
      
        <link rel="canonical" href="https://jorgepastorr.github.io/apuntes/seguridad/Certificados-Digitales/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.5">
    
    
      
        <title>Certificados Digitales - Apuntes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#certificados-digitales" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Apuntes" class="md-header__button md-logo" aria-label="Apuntes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Certificados Digitales
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apuntes" class="md-nav__button md-logo" aria-label="Apuntes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Apuntes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Apuntes Jorgepastorr
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Administracion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Administracion" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Administracion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Configurar_pantallas_manualmente/" class="md-nav__link">
        Configurar pantallas manualmente
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Debian_hostname_dinamico/" class="md-nav__link">
        Debian hostname dinamico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Mutt/" class="md-nav__link">
        Que es mutt?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Procesos/" class="md-nav__link">
        Procesos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Resetear_la_password_root/" class="md-nav__link">
        Resetear la password root.
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/Vim/" class="md-nav__link">
        Vim atajos básicos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/awk/" class="md-nav__link">
        Uso básico de AWK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/freeipa/" class="md-nav__link">
        FreeIpa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/instalar_webmin/" class="md-nav__link">
        instalar webmin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/per/" class="md-nav__link">
        PER
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/permisos_avanzados/" class="md-nav__link">
        Permisos avanzados
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/samba/" class="md-nav__link">
        Samba
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/server-correo/" class="md-nav__link">
        Servidor Correo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/server-mensajeria/" class="md-nav__link">
        Server mensajeria instantanea
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/ssh/" class="md-nav__link">
        ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/sudo/" class="md-nav__link">
        sudo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/umask/" class="md-nav__link">
        umask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/usuarios/" class="md-nav__link">
        Usuarios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/vnc/" class="md-nav__link">
        vnc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/webdav/" class="md-nav__link">
        webdav
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_21" type="checkbox" id="__nav_2_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_21">
          Ldap
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ldap" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_21">
          <span class="md-nav__icon md-icon"></span>
          Ldap
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/ldap/Ldap-Samba-Hostpam/" class="md-nav__link">
        Ldap - Samba - Hostpam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/ldap/acl_ejercicios/" class="md-nav__link">
        Acl ejercicios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/ldap/host-kerberos-con-ldap/" class="md-nav__link">
        Instalación host  ldap-kerberos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/ldap/ldap/" class="md-nav__link">
        ldap
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_22" type="checkbox" id="__nav_2_22" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_22">
          Pxe
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pxe" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_22">
          <span class="md-nav__icon md-icon"></span>
          Pxe
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/pxe/Servidor-pxe-con-rapberry/" class="md-nav__link">
        Servidor pxe con rapberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/pxe/guiapxe-fedora/" class="md-nav__link">
        Guiapxe fedora
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_23" type="checkbox" id="__nav_2_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_23">
          Redes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Redes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_23">
          <span class="md-nav__icon md-icon"></span>
          Redes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/redes/apuntes-xarxa/" class="md-nav__link">
        APUNTS DE XARXES
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/redes/comandos_router_switch/" class="md-nav__link">
        Configuració de Routers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/redes/haproxy/" class="md-nav__link">
        Haproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administracion/redes/redes2/" class="md-nav__link">
        Redes2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Auditoria
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Auditoria" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Auditoria
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../auditoria/apuntes_hacking/" class="md-nav__link">
        Haking ético
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Bases datos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bases datos" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Bases datos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Mongo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Mongo" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Mongo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/mongo/Mongo/" class="md-nav__link">
        Mongo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Postgres
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Postgres" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Postgres
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/bases/" class="md-nav__link">
        Postgres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/modificaciones/" class="md-nav__link">
        Modificación tablas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/plpgsql/" class="md-nav__link">
        Plpgsql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/postgresql-intalacion/" class="md-nav__link">
        Postgresql intalacion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Ccna
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ccna" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Ccna
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/ordenes/" class="md-nav__link">
        ordenes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          1 IntroducciónRedes(ITN)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1 IntroducciónRedes(ITN)" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          1 IntroducciónRedes(ITN)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/01-LasRedesEnLaActualidad/" class="md-nav__link">
        01 LasRedesEnLaActualidad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/02-ConfiguracionBasicaDelSwitchYdisp/" class="md-nav__link">
        Configuración básica del Switch y dispositivo final
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/03-ProtocolosYmodelos/" class="md-nav__link">
        Protocolos y modelos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/04-CapaFisica/" class="md-nav__link">
        Capa Física
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/05-SistemasDeNumeracion/" class="md-nav__link">
        Sistemas de numeración
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/06-CapaDeEnlaceDeDatos/" class="md-nav__link">
        Capa de enlace de datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/07-ConmutacionEthernet/" class="md-nav__link">
        Conmutación Ethernet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/08-CapaDeRed/" class="md-nav__link">
        Capa de Red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/09-Resoluci%C3%B3nDeDireccion/" class="md-nav__link">
        Resolución de dirección
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/10-ConfiguracionBasicaDelRouter/" class="md-nav__link">
        Configuración básica del router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/11-DireccionamientoIPv4/" class="md-nav__link">
        Direccionamiento IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/12-DireccionamientoIPv6/" class="md-nav__link">
        Direccionamiento IPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/13-ICMP/" class="md-nav__link">
        ICMP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/14-CapaDeTransporte/" class="md-nav__link">
        Capa de transporte
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/15-CapaDeAplicacion/" class="md-nav__link">
        Capa de aplicación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/16-FundamentosDeSeguridadDeRed/" class="md-nav__link">
        Fundamentos de seguridad de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/17-ConstruirUnaRedPeque%C3%B1a/" class="md-nav__link">
        Construir una red pequeña
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/minicom/" class="md-nav__link">
        Minicom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          2 Switching Routing And WirelessEssentials(SRWE)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2 Switching Routing And WirelessEssentials(SRWE)" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          2 Switching Routing And WirelessEssentials(SRWE)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/01-ConfiguracionBasicaDelDispositivo/" class="md-nav__link">
        Configuración básica del dispositivo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/03-VLAN/" class="md-nav__link">
        VLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/04-Inter-VLAN-Routing/" class="md-nav__link">
        Inter-VLAN Routing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/05-ConceptosSTP/" class="md-nav__link">
        Conceptos STP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/06-EtherChannel/" class="md-nav__link">
        EtherChannel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/07-DHCPv4/" class="md-nav__link">
        DHCPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/08-SLAACyDHCPv6/" class="md-nav__link">
        SLAAC y DHCPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/09-ConceptosdeFHRP/" class="md-nav__link">
        Conceptos de FHRP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/10-ConceptosSeguridadLAN/" class="md-nav__link">
        Conceptos de seguridad LAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/11-ConfiguracionSeguridadSwitch/" class="md-nav__link">
        Configuración de seguridad en el Switch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/12-ConceptosWLAN/" class="md-nav__link">
        Conceptos de WLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/13-ConfiguracionesRedesInal%C3%A1mbricasWLAN/" class="md-nav__link">
        Configuraciones de redes inalámbricas WLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/14-ConceptosEnrutamiento/" class="md-nav__link">
        Conceptos de enrutamiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/15-EnrutamientoIPEstatico/" class="md-nav__link">
        Enrutamiento IP Estático
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          3 Enterprise Networking Security AndAutomation ENSA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3 Enterprise Networking Security AndAutomation ENSA" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          3 Enterprise Networking Security AndAutomation ENSA
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/01-ConceptosOSPFv2DeAreaUnica/" class="md-nav__link">
        Conceptos de OSPFv2 de área única
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/02-ConfiguracionOSPFv2AreaUnica/" class="md-nav__link">
        Configuración OSPFv2 de área única
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/03-ConceptosSeguridadRedes/" class="md-nav__link">
        Conceptos de Seguridad en Redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/04-ACL/" class="md-nav__link">
        ACL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/05-ACLconfiguracionIPv4/" class="md-nav__link">
        ACL para configuración IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/06-NAT-IPv4/" class="md-nav__link">
        NAT para IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/07-conceptosWAN/" class="md-nav__link">
        Conceptos WAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/08-ConceptosVPNeIPsec/" class="md-nav__link">
        Conceptos de VPN e IPsec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/09-ConceptosQoS/" class="md-nav__link">
        Conceptos de QoS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/10-AdministracionDeRedes/" class="md-nav__link">
        Administración de redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/11-Dise%C3%B1oDeRedes/" class="md-nav__link">
        Diseño de redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/12-ResolucionDeProblemasDeRed/" class="md-nav__link">
        Resolución de problemas de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/13-VirtualizacionDeRed/" class="md-nav__link">
        Virtualización de Red
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/aws/" class="md-nav__link">
        aws
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Curiosidades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Curiosidades" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Curiosidades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/Eliminar_contrase%C3%B1a_windows/" class="md-nav__link">
        Eliminar contraseña windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/Lanzador_aplicaciones_en_gnome/" class="md-nav__link">
        Lanzador aplicaciones en gnome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/cambiar_color_promp_terminal/" class="md-nav__link">
        Cambiar color promp terminal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/conky/" class="md-nav__link">
        conky
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/openbox/" class="md-nav__link">
        Openbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/qbit/" class="md-nav__link">
        Qbit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/tmux/" class="md-nav__link">
        Tmux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Desatendidas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Desatendidas" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Desatendidas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/" class="md-nav__link">
        Desatendidas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/Instalacion-desatendida-debian/" class="md-nav__link">
        Instalacion desatendida debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/desatendida-windows/" class="md-nav__link">
        Desatendida windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/kikstart/" class="md-nav__link">
        Kikstart
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Generar doc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Generar doc" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Generar doc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../generar_doc/docsify/" class="md-nav__link">
        Docsify
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../generar_doc/remark/" class="md-nav__link">
        Remark
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Lenguajes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lenguajes" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Lenguajes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/Fundamentos_php/" class="md-nav__link">
        Fundamentos php
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/Shell/" class="md-nav__link">
        Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_3">
          Python3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python3" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          Python3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/Apuntes-Metodos/" class="md-nav__link">
        Métodos de colecciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-Funcionalidades_avanzadas/" class="md-nav__link">
        apuntes Funcionalidades avanzadas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-Herencia/" class="md-nav__link">
        Herencias
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-distribucion/" class="md-nav__link">
        Distribución
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-documentacion/" class="md-nav__link">
        Documentación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-ficheros/" class="md-nav__link">
        Apuntes ficheros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-modulos/" class="md-nav__link">
        Módulos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-orientado-objetos/" class="md-nav__link">
        Orientado a objetos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-test/" class="md-nav__link">
        Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-tkinter/" class="md-nav__link">
        Tkinter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes_bases/" class="md-nav__link">
        Apuntes bases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/argparse/" class="md-nav__link">
        Argparse
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3_13" type="checkbox" id="__nav_10_3_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_3_13">
          Fundamentos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fundamentos" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_3_13">
          <span class="md-nav__icon md-icon"></span>
          Fundamentos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/excepciones/" class="md-nav__link">
        Las excepciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/funciones/" class="md-nav__link">
        Funciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/fundamento/" class="md-nav__link">
        Fundamentos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/manejo_de_datos/" class="md-nav__link">
        Manejo de datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/salida_por_pantalla/" class="md-nav__link">
        Salida por pantalla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Lpi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lpi" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Lpi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_1" type="checkbox" id="__nav_11_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_1">
          101
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="101" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/101_Arquitectura_del_sistema/" class="md-nav__link">
        101 Arquitectura del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/102_Instalacion_de_Linux_y_gestion_de_paquetes/" class="md-nav__link">
        102 Instalación de Linux y gestión de paquetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/103_Comandos_GNU_y_Linux/" class="md-nav__link">
        103 Comandos GNU y Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/104_Dispositivos_sistema_de_archivos_y_estandar_jerarquia_de_archivos/" class="md-nav__link">
        104 Dispositivos, sistema de archivos Linux y el estándar de jerarquia de archivos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2" type="checkbox" id="__nav_11_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2">
          102
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="102" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_2">
          <span class="md-nav__icon md-icon"></span>
          102
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/105.2_Scripting/" class="md-nav__link">
        105.2 Scripting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/105_Shells/" class="md-nav__link">
        105 Shells
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/106_Interfaces_de_usuario_y_escritorio/" class="md-nav__link">
        106 Interfaces de usuario y escritorio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/107_tareas_de_administracion/" class="md-nav__link">
        107 tareas de administración
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/108_Servicios_esenciales_del_sistema/" class="md-nav__link">
        108 Servicios esenciales del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/108_rsyslog_server/" class="md-nav__link">
        rsyslog server central
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/109_Fundamentos_de_red/" class="md-nav__link">
        109 Fundamentos de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/110_Seguridad/" class="md-nav__link">
        110 Seguridad
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_3">
          201
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="201" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          201
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/200_Planificaci%C3%B3n_de_la_capacidad/" class="md-nav__link">
        200 Planificación de la capacidad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/201_Kernel_Linux/" class="md-nav__link">
        201 Kernel Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/202_Arranque_del%20_Sistema/" class="md-nav__link">
        202 Arranque del  Sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/203_sistemas_de_archivos_y_dispositivos/" class="md-nav__link">
        203 sistemas de archivos y dispositivos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/204_Administracion_avanzada_de_dispositivos_de_almacenamiento/" class="md-nav__link">
        204 Administración avanzada de dispositivos de almacenamiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/205_configuracion_de_red/" class="md-nav__link">
        205 configuración de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/206_Mantenimiento_del_sistema/" class="md-nav__link">
        206 Mantenimiento del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/Exam_201_Detailed_Objectives/" class="md-nav__link">
        Exam 201: Detailed Objectives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_4" type="checkbox" id="__nav_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_4">
          202
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="202" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_4">
          <span class="md-nav__icon md-icon"></span>
          202
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/207_Servidor_de_nombres_de_dominio/" class="md-nav__link">
        207 Servidor de nombres de dominio (DNS)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/208.4_servicios_web_nginx/" class="md-nav__link">
        208 servicios web nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/208_servicios_web/" class="md-nav__link">
        208 servicios web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/209_compartir_ficheros/" class="md-nav__link">
        209 compartir ficheros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/210_gestion_de_clientes_de_red/" class="md-nav__link">
        210 gestión de clientes de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/211_Servicios_E-Mail/" class="md-nav__link">
        211 Servicios de E-Mail
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/212_Seguridad_del_sistema/" class="md-nav__link">
        212 Seguridad del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/Exam_202_Detailed_Objectives/" class="md-nav__link">
        Exam 202 Detailed Objectives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_5" type="checkbox" id="__nav_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_5">
          303
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="303" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_5">
          <span class="md-nav__icon md-icon"></span>
          303
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/331.3_Encrypted_File_Systems/" class="md-nav__link">
        Topic 331: Cryptography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/332.3_Resource_Control/" class="md-nav__link">
        Topic 332: Host Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/333.1_Discretionary_Access_Control/" class="md-nav__link">
        333.1 Discretionary Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/333.2_Mandatory_Access_Control/" class="md-nav__link">
        333.2 Mandatory Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/334.3.2_Packet_Filtering/" class="md-nav__link">
        Firewalld
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/334.3_Packet_Filtering/" class="md-nav__link">
        Iptables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/extra/" class="md-nav__link">
        Extra
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/freeIpa/" class="md-nav__link">
        freeIpa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/gpg/" class="md-nav__link">
        GPG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/nose/" class="md-nav__link">
        Nose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/objetivos/" class="md-nav__link">
        Objetivos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/pendiente/" class="md-nav__link">
        Pendiente
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_6" type="checkbox" id="__nav_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_6">
          304
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="304" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_6">
          <span class="md-nav__icon md-icon"></span>
          304
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/ClusterPacemakerDRBD/" class="md-nav__link">
        Cluster Pacemaker DRBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Clusterfs/" class="md-nav__link">
        Clusterfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Haproxy/" class="md-nav__link">
        Haproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Montaje%20isard-nas1%20y%20isard-nas2/" class="md-nav__link">
        Montaje isard-nas1 y isard-nas2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/cluster_basico/" class="md-nav__link">
        Cluster en centos con pacemaker/corosync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/clvm_gfs2_en_clusterPacemaker/" class="md-nav__link">
        clvm gfs2 en clusterPacemaker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/haproxy_pacemaker/" class="md-nav__link">
        Haproxy pacemaker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_7" type="checkbox" id="__nav_11_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_7">
          305
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="305" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_7">
          <span class="md-nav__icon md-icon"></span>
          305
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.1VirtualizationConceptsandTheory/" class="md-nav__link">
        351.1 Virtualization Concepts and Theory (weight: 6)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.2Xen/" class="md-nav__link">
        351.2 Xen (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.3Qemu/" class="md-nav__link">
        351.3 QEMU (weight: 4)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.4LibvirtVirtualMachineManageme/" class="md-nav__link">
        351.4 Libvirt Virtual Machine Management (weight: 9)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.5VirtualMachineDiskImageManagem/" class="md-nav__link">
        351.5 Virtual Machine Disk Image Management (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.1ContainerVirtualizationConcepts/" class="md-nav__link">
        352.1 Container Virtualization Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.3Docker/" class="md-nav__link">
        352.3 Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.4ContainerOrchestrationPlatforms/" class="md-nav__link">
        352.4ContainerOrchestrationPlatforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352LXC/" class="md-nav__link">
        352.2 LXC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.1CloudManagementTools/" class="md-nav__link">
        353.1 Cloud Management Tools (weight: 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.2Packer/" class="md-nav__link">
        353.2 Packer (weight: 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.3cloud-init/" class="md-nav__link">
        353.3 cloud-init (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.4Vagrant/" class="md-nav__link">
        353.4 Vagrant (weight: 3)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Seguridad
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Seguridad" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Seguridad
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Certificados Digitales
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Certificados Digitales
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tlsssl-https" class="md-nav__link">
    TLS/SSL (HTTPS)
  </a>
  
    <nav class="md-nav" aria-label="TLS/SSL (HTTPS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generacio-de-claus-requests-i-certs" class="md-nav__link">
    Generació de claus, requests i certs
  </a>
  
    <nav class="md-nav" aria-label="Generació de claus, requests i certs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certificado-autofirmado" class="md-nav__link">
    Certificado autofirmado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-privada-y-certificado-autofirmado" class="md-nav__link">
    Creación de clave privada y certificado autofirmado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-privada-request-i-certificacion" class="md-nav__link">
    Creación de clave privada, request i certificación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-provada" class="md-nav__link">
    Creación de clave provada
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-sin-interactivo" class="md-nav__link">
    Request sin interactivo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-una-ca-propia" class="md-nav__link">
    Crear una CA propia
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contenido-fisico-y-logico" class="md-nav__link">
    Contenido físico y lógico
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-certificado-servidor-real" class="md-nav__link">
    crear certificado servidor real
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passfrase" class="md-nav__link">
    passfrase
  </a>
  
    <nav class="md-nav" aria-label="passfrase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anadir" class="md-nav__link">
    Añadir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar" class="md-nav__link">
    Modificar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminar" class="md-nav__link">
    Eliminar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examinar-contenido-de-certificados-y-llaves" class="md-nav__link">
    Examinar contenido de certificados y llaves
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-se-que" class="md-nav__link">
    No se que
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ldap-tls" class="md-nav__link">
    Ldap tls
  </a>
  
    <nav class="md-nav" aria-label="Ldap tls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-certificados" class="md-nav__link">
    Generar certificados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion" class="md-nav__link">
    Configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones" class="md-nav__link">
    Comprobaciones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openvpn" class="md-nav__link">
    OpenVpn
  </a>
  
    <nav class="md-nav" aria-label="OpenVpn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-llaves-servidor" class="md-nav__link">
    Generar llaves servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generar-llaves-cliente" class="md-nav__link">
    Generar llaves cliente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tunel-manual" class="md-nav__link">
    Túnel manual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar" class="md-nav__link">
    Configurar
  </a>
  
    <nav class="md-nav" aria-label="Configurar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servidor" class="md-nav__link">
    Servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cliente" class="md-nav__link">
    Cliente
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensiones" class="md-nav__link">
    Extensiones
  </a>
  
    <nav class="md-nav" aria-label="Extensiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fichero-especifico-de-extension" class="md-nav__link">
    fichero especifico de extensión
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fichero-global" class="md-nav__link">
    fichero global
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Kerberos/" class="md-nav__link">
        Kerberos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OpenVpn/" class="md-nav__link">
        OpenVpn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../The-crazy-thing/" class="md-nav__link">
        The crazy thing!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../TunelSSH/" class="md-nav__link">
        Tunel SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gpg/" class="md-nav__link">
        GPG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lvm/" class="md-nav__link">
        Lvm logical volum manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practica-ssl-tls/" class="md-nav__link">
        Practica ssl tls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../raid/" class="md-nav__link">
        Raid
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_10" type="checkbox" id="__nav_12_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_10">
          Backups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Backups" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_10">
          <span class="md-nav__icon md-icon"></span>
          Backups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backups/Borg_basico/" class="md-nav__link">
        Borg básico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backups/Tar/" class="md-nav__link">
        Tar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backups/rdiff-backup/" class="md-nav__link">
        rdiff-backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../backups/rsync/" class="md-nav__link">
        rsync
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_11" type="checkbox" id="__nav_12_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_11">
          Cortafuegos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cortafuegos" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_11">
          <span class="md-nav__icon md-icon"></span>
          Cortafuegos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cortafuegos/Iptables/" class="md-nav__link">
        Iptables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Sistemas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sistemas" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Sistemas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Actualizar_hora_sys_o_bios/" class="md-nav__link">
        Gestionar Hora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Arranque-del-sistema/" class="md-nav__link">
        Arranque del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Estructura_de_directorios/" class="md-nav__link">
        Estructura de directorios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Logs/" class="md-nav__link">
        Logs del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Systemd/" class="md-nav__link">
        Systemd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/ZFS/" class="md-nav__link">
        ZFS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/chroot/" class="md-nav__link">
        Chroot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/disco/" class="md-nav__link">
        Disco
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/gestores_de_paquetes/" class="md-nav__link">
        Gestores de paquetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/getenforce/" class="md-nav__link">
        getenforce
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/grub/" class="md-nav__link">
        Grub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/home/" class="md-nav__link">
        Cambiar /home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/ip_est%C3%A1tica/" class="md-nav__link">
        ip estática raspberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/pam/" class="md-nav__link">
        Pam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/raid/" class="md-nav__link">
        Raid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/xinetd/" class="md-nav__link">
        xinetd
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_17" type="checkbox" id="__nav_13_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13_17">
          Automatizacion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Automatizacion" data-md-level="2">
        <label class="md-nav__title" for="__nav_13_17">
          <span class="md-nav__icon md-icon"></span>
          Automatizacion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/automatizacion/ansible/" class="md-nav__link">
        Ansible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/automatizacion/tareas_programadas/" class="md-nav__link">
        Tareas Programadas
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Virtualizacion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virtualizacion" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Virtualizacion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Docker-basico/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Lxc/" class="md-nav__link">
        LXC y LXD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Vagrant/" class="md-nav__link">
        Vagrant
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/swarm/" class="md-nav__link">
        Swarm
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_6" type="checkbox" id="__nav_14_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_6">
          Virt manager
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virt manager" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_6">
          <span class="md-nav__icon md-icon"></span>
          Virt manager
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Backing_chain/" class="md-nav__link">
        Backing_chain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Clonar/" class="md-nav__link">
        Clonar de virtual a físico y de físico a virtual.
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Instalacion_de_virtualizacion_fedora/" class="md-nav__link">
        Instalación de virtualización fedora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/acceder_consola_desde_virsh/" class="md-nav__link">
        acceder consola desde virsh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/crear_red_aislada/" class="md-nav__link">
        Crear red aislada
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/instalar_maquina_virtual_virt-install/" class="md-nav__link">
        virt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tlsssl-https" class="md-nav__link">
    TLS/SSL (HTTPS)
  </a>
  
    <nav class="md-nav" aria-label="TLS/SSL (HTTPS)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generacio-de-claus-requests-i-certs" class="md-nav__link">
    Generació de claus, requests i certs
  </a>
  
    <nav class="md-nav" aria-label="Generació de claus, requests i certs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#certificado-autofirmado" class="md-nav__link">
    Certificado autofirmado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-privada-y-certificado-autofirmado" class="md-nav__link">
    Creación de clave privada y certificado autofirmado
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-privada-request-i-certificacion" class="md-nav__link">
    Creación de clave privada, request i certificación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-clave-provada" class="md-nav__link">
    Creación de clave provada
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-sin-interactivo" class="md-nav__link">
    Request sin interactivo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-una-ca-propia" class="md-nav__link">
    Crear una CA propia
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contenido-fisico-y-logico" class="md-nav__link">
    Contenido físico y lógico
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-certificado-servidor-real" class="md-nav__link">
    crear certificado servidor real
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passfrase" class="md-nav__link">
    passfrase
  </a>
  
    <nav class="md-nav" aria-label="passfrase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anadir" class="md-nav__link">
    Añadir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar" class="md-nav__link">
    Modificar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminar" class="md-nav__link">
    Eliminar
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examinar-contenido-de-certificados-y-llaves" class="md-nav__link">
    Examinar contenido de certificados y llaves
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-se-que" class="md-nav__link">
    No se que
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ldap-tls" class="md-nav__link">
    Ldap tls
  </a>
  
    <nav class="md-nav" aria-label="Ldap tls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-certificados" class="md-nav__link">
    Generar certificados
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuracion" class="md-nav__link">
    Configuración
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones" class="md-nav__link">
    Comprobaciones
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openvpn" class="md-nav__link">
    OpenVpn
  </a>
  
    <nav class="md-nav" aria-label="OpenVpn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-llaves-servidor" class="md-nav__link">
    Generar llaves servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generar-llaves-cliente" class="md-nav__link">
    Generar llaves cliente
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tunel-manual" class="md-nav__link">
    Túnel manual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurar" class="md-nav__link">
    Configurar
  </a>
  
    <nav class="md-nav" aria-label="Configurar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#servidor" class="md-nav__link">
    Servidor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cliente" class="md-nav__link">
    Cliente
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensiones" class="md-nav__link">
    Extensiones
  </a>
  
    <nav class="md-nav" aria-label="Extensiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fichero-especifico-de-extension" class="md-nav__link">
    fichero especifico de extensión
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fichero-global" class="md-nav__link">
    fichero global
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/jorgepastorr/apuntes/edit/master/docs/seguridad/Certificados-Digitales.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="certificados-digitales">Certificados Digitales</h1>
<h2 id="tlsssl-https">TLS/SSL (HTTPS)</h2>
<h3 id="generacio-de-claus-requests-i-certs">Generació de claus, requests i certs</h3>
<h4 id="certificado-autofirmado">Certificado autofirmado</h4>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-days<span class="w"> </span><span class="m">3650</span><span class="w"> </span>-nodes<span class="w"> </span>-keyout<span class="w"> </span>serverkey.auto1.pem<span class="w"> </span>-out<span class="w"> </span>servercert.auto1.pem
</code></pre></div>
<h4 id="creacion-de-clave-privada-y-certificado-autofirmado">Creación de clave privada y certificado autofirmado</h4>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>serverkey.auto2.pem

openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-days<span class="w"> </span><span class="m">3650</span><span class="w"> </span>-nodes<span class="w"> </span>-key<span class="w"> </span>serverkey.auto2.pem<span class="w"> </span>-out<span class="w"> </span>servercert.auto2.pem
</code></pre></div>
<h4 id="creacion-de-clave-privada-request-i-certificacion">Creación de clave privada, request i certificación</h4>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>serverkey.web1.pem
openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>serverkey.web1.pem<span class="w"> </span>-out<span class="w"> </span>serverreq.web1.pem
openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacert.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>serverreq.web1.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">3650</span><span class="w"> </span>-CAcreateserial<span class="w"> </span>-out<span class="w"> </span>servercert.web1.pem
</code></pre></div>
<h4 id="creacion-de-clave-provada">Creación de clave provada</h4>
<p>Petición de certificación y firma de la certificación usando fitchero de configuración</p>
<p>Fitxer exemple de configuració parcial de openssl:</p>
<div class="highlight"><pre><span></span><code><span class="c1">#ca.conf</span>
<span class="nv">basicConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>critical,CA:FALSE<span class="w"> </span>
<span class="nv">extendedKeyUsage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>serverAuth,emailProtection<span class="w"> </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>serverkey.web2.pem
openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>serverkey.web2.pem<span class="w"> </span>-out<span class="w"> </span>serverreq.web2.pem
openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacert.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>serverreq.web2.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">3650</span><span class="w"> </span>-CAcreateserial<span class="w"> </span>-extfile<span class="w"> </span>ca.conf<span class="w"> </span>-out<span class="w"> </span>servercert.web2.pem
</code></pre></div>
<h4 id="request-sin-interactivo">Request sin interactivo</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Generar el certificat + clau privada autosignats</span>
openssl<span class="w"> </span>req<span class="w"> </span>-x509<span class="w"> </span>-nodes<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-sha256<span class="w"> </span><span class="se">\</span>
-subj<span class="w"> </span><span class="s1">&#39;/C=ca/ST=Barcelona/L=Barcelona/CN=www.edt.org&#39;</span><span class="w"> </span><span class="se">\</span>
-newkey<span class="w"> </span>rsa:2048<span class="w"> </span>-keyout<span class="w"> </span>mykey.pem<span class="w"> </span>-out<span class="w"> </span>mycert.pem

➜<span class="w">  </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-nodes<span class="w"> </span>-out<span class="w"> </span>mycrt.pem<span class="w"> </span>-keyout<span class="w"> </span>mykey.pem
Generating<span class="w"> </span>a<span class="w"> </span>RSA<span class="w"> </span>private<span class="w"> </span>key
....................................+++++
.........+++++
writing<span class="w"> </span>new<span class="w"> </span>private<span class="w"> </span>key<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;mykey.pem&#39;</span>
-----
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:escola<span class="w"> </span>del<span class="w"> </span>treball<span class="w">        </span>
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:departament<span class="w"> </span>informatica
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:www.edt.org
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org
</code></pre></div>
<h4 id="crear-una-ca-propia">Crear una CA propia</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># generar clave privada encriptada con des3 i passfrase (formato PEM)</span>
➜<span class="w">  </span>openssl<span class="w"> </span>genrsa<span class="w"> </span>-des3<span class="w"> </span>-out<span class="w"> </span>ca.key<span class="w"> </span><span class="m">2048</span>

<span class="c1"># generar el certificat x509 pròpi de l&#39;entitat CA (per a 365 dies) en format PEM</span>
➜<span class="w">  </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-nodes<span class="w"> </span>-sha1<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-key<span class="w"> </span>ca.key<span class="w"> </span>-out<span class="w"> </span>ca.crt
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>ca.key:
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:Barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:Veritat<span class="w"> </span>absoluta
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Departament<span class="w"> </span>de<span class="w"> </span>certificats
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:VeritatAbsoluta
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org

➜<span class="w"> </span>ll
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,5K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:24<span class="w"> </span>ca.crt
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,8K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:17<span class="w"> </span>ca.key
</code></pre></div>
<h4 id="contenido-fisico-y-logico">Contenido físico y lógico</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># contenido fisico</span>
➜<span class="w"> </span>cat<span class="w"> </span>ca.key<span class="w"> </span>
-----BEGIN<span class="w"> </span>RSA<span class="w"> </span>PRIVATE<span class="w"> </span>KEY-----
Proc-Type:<span class="w"> </span><span class="m">4</span>,ENCRYPTED
DEK-Info:<span class="w"> </span>DES-EDE3-CBC,7EB452B3EA57B216
gtG861azfOG/vZblyVumXLzx9SvFAT3shENQQxNqjW+PMUO9+aB15oNwASSgj1X2
SGRTEZtViAZdo1B5K8N3nhArTWULsIpHP5EiiS1qDYaFQcU38+Akzw<span class="o">==</span>
-----END<span class="w"> </span>RSA<span class="w"> </span>PRIVATE<span class="w"> </span>KEY-----

<span class="c1"># contenido logico</span>
➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>ca.key
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>ca.key:
RSA<span class="w"> </span>Private-Key:<span class="w"> </span><span class="o">(</span><span class="m">2048</span><span class="w"> </span>bit,<span class="w"> </span><span class="m">2</span><span class="w"> </span>primes<span class="o">)</span>
modulus:
<span class="w">    </span><span class="m">00</span>:c8:72:8a:93:51:19:0a:58:d6:45:8f:2e:1b:24:
<span class="w">    </span>cd:e9:0d:5a:91:69:2f:e9:49:fb:56:78:68:9e:94:
...

<span class="c1"># ca.crt</span>
➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>ca.crt<span class="w"> </span>
Certificate:
<span class="w">    </span>Data:
<span class="w">        </span>Version:<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>0x2<span class="o">)</span>
<span class="w">        </span>Serial<span class="w"> </span>Number:
<span class="w">            </span><span class="m">56</span>:b0:8d:ea:f1:e0:ea:b6:ca:ca:36:b1:56:35:54:9b:32:e1:87:11
<span class="w">        </span>Signature<span class="w"> </span>Algorithm:<span class="w"> </span>sha1WithRSAEncryption
<span class="w">        </span>Issuer:<span class="w"> </span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Veritat<span class="w"> </span>absoluta,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Departament<span class="w"> </span>de<span class="w"> </span>certificats,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>VeritatAbsoluta,<span class="w"> </span><span class="nv">emailAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>admin@edt.org
<span class="w">        </span>Validity
<span class="w">            </span>Not<span class="w"> </span>Before:<span class="w"> </span>Mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">09</span>:24:14<span class="w"> </span><span class="m">2020</span><span class="w"> </span>GMT
<span class="w">            </span>Not<span class="w"> </span>After<span class="w"> </span>:<span class="w"> </span>Mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">09</span>:24:14<span class="w"> </span><span class="m">2021</span><span class="w"> </span>GMT
</code></pre></div>
<h3 id="crear-certificado-servidor-real">crear certificado servidor real</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Crear una clau privada per al servidor</span>
<span class="c1"># és en format PEM, de 2048 bits i xifrada en 3DES. Utilitza passfrase</span>
➜<span class="w"> </span>openssl<span class="w"> </span>genrsa<span class="w"> </span>-des3<span class="w"> </span>-out<span class="w"> </span>server.key<span class="w"> </span><span class="m">2048</span>

<span class="c1"># Generar una petició de certificat request per enviar a l&#39;entitat certificadora CA</span>
➜<span class="w"> </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>server.key<span class="w"> </span>-out<span class="w"> </span>server.csr
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>server.key:
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:Barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:escola<span class="w"> </span>del<span class="w"> </span>treball
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:dep<span class="w"> </span>informatica
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:www.edt.org
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="s1">&#39;extra&#39;</span><span class="w"> </span>attributes
to<span class="w"> </span>be<span class="w"> </span>sent<span class="w"> </span>with<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request
A<span class="w"> </span>challenge<span class="w"> </span>password<span class="w"> </span><span class="o">[]</span>:request<span class="w"> </span>password
An<span class="w"> </span>optional<span class="w"> </span>company<span class="w"> </span>name<span class="w"> </span><span class="o">[]</span>:edt

➜<span class="w"> </span>ll
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,2K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:48<span class="w"> </span>server.csr
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,8K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:45<span class="w"> </span>server.key
</code></pre></div>
<p>una entidad certificadora a de firmar  la peticion request del certificado y devolver un certificado.crt, como aremos nosotros de entidad CA lo autofirmaremos.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Fitxer de configuració de la generació de certificats: indica què certifiquen</span>
➜<span class="w"> </span>cat<span class="w"> </span>ca/ca.conf<span class="w"> </span>
<span class="nv">basicConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>critical,CA:FALSE
<span class="nv">extendedKeyUsage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>serverAuth,emailProtection

<span class="c1"># L&#39;autoritat CA ha de signar el certificat</span>
➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-CA<span class="w"> </span>ca.crt<span class="w"> </span>-CAkey<span class="w"> </span>ca.key<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>server.csr<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-sha1<span class="w"> </span>-extfile<span class="w"> </span>ca/ca.conf<span class="w"> </span>-CAcreateserial<span class="w"> </span>-out<span class="w"> </span>server.crt
Signature<span class="w"> </span>ok
<span class="nv">subject</span><span class="o">=</span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>escola<span class="w"> </span>del<span class="w"> </span>treball,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>dep<span class="w"> </span>informatica,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>www.edt.org,<span class="w"> </span><span class="nv">emailAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>admin@edt.org
Getting<span class="w"> </span>CA<span class="w"> </span>Private<span class="w"> </span>Key
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>ca.key:

<span class="c1"># Mostrar el no de sèrie que genera la CA per a cada certificat que emet.</span>
➜<span class="w"> </span>cat<span class="w"> </span>ca.srl
777493C4F77FDEF98879C20B0EBE80A94E2B048E

<span class="c1"># la entidad le enviara al cliente el archivo server.crt</span>

<span class="c1"># El client que ha sol·licitat el certificat pot validar el certificat respecte la seva clau privada</span>
➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-modulus<span class="w"> </span>-in<span class="w"> </span>server.crt<span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>md5
<span class="o">(</span>stdin<span class="o">)=</span><span class="w"> </span>1e560851e07dd9c2774474a44c16abd2
➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-noout<span class="w"> </span>-modulus<span class="w"> </span>-in<span class="w"> </span>server.key<span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>md5
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>server.key:
<span class="o">(</span>stdin<span class="o">)=</span><span class="w"> </span>1e560851e07dd9c2774474a44c16abd2
</code></pre></div>
<h3 id="passfrase">passfrase</h3>
<p>Añadir una passfrase a una clave privada suma seguridad, ya que sin esa passfrase nadie podrá utilizar la clave privada.</p>
<p><strong>inconvenientes</strong>: es que al arrancar el servicio apache pide la passfrase necesaria por cada certificado que tenga una.</p>
<p><strong>Ventajas</strong>: si no roban la llave privada, si no tienen la pasfrase no podrán utilizarla.</p>
<p>Al hacer modificaciones en una key se genera otra nueva, después de modificar es recomendable remplazar con un <code>mv</code>.</p>
<h4 id="anadir">Añadir</h4>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-des3<span class="w"> </span>-in<span class="w"> </span>server.key<span class="w"> </span>-out<span class="w"> </span>passfrase.server.key
writing<span class="w"> </span>RSA<span class="w"> </span>key
Enter<span class="w"> </span>PEM<span class="w"> </span>pass<span class="w"> </span>phrase:
Verifying<span class="w"> </span>-<span class="w"> </span>Enter<span class="w"> </span>PEM<span class="w"> </span>pass<span class="w"> </span>phrase:
➜<span class="w"> </span>mv<span class="w"> </span>passfrase.server.key<span class="w"> </span>server.key<span class="w"> </span>
</code></pre></div>
<h4 id="modificar">Modificar</h4>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-des3<span class="w"> </span>-in<span class="w"> </span>server.key<span class="w"> </span>-out<span class="w"> </span>passfrase.new.server.key
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>server.key:
writing<span class="w"> </span>RSA<span class="w"> </span>key
Enter<span class="w"> </span>PEM<span class="w"> </span>pass<span class="w"> </span>phrase:
Verifying<span class="w"> </span>-<span class="w"> </span>Enter<span class="w"> </span>PEM<span class="w"> </span>pass<span class="w"> </span>phrase:
➜<span class="w"> </span>mv<span class="w"> </span>passfrase.new.server.key<span class="w"> </span>server.key<span class="w"> </span>
</code></pre></div>
<h4 id="eliminar">Eliminar</h4>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-in<span class="w"> </span>server.key<span class="w"> </span>-out<span class="w"> </span>delete-passfrase.server.key
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>server.key:
writing<span class="w"> </span>RSA<span class="w"> </span>key
</code></pre></div>
<h3 id="examinar-contenido-de-certificados-y-llaves">Examinar contenido de certificados y llaves</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># contenido certificado</span>
➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>autosigned.server.crt<span class="w">  </span>

<span class="c1"># contenido clave privada</span>
➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>autosigned.server.key<span class="w"> </span>

<span class="c1"># verificar que el certificado y la llave privada se corresponden.</span>
➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-modulus<span class="w"> </span>-in<span class="w"> </span>autosigned.server.crt<span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>md5<span class="w"> </span>
<span class="o">(</span>stdin<span class="o">)=</span><span class="w"> </span>749c4e62abb2fcc4f16325f5ccbe5d24
➜<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-noout<span class="w"> </span>-modulus<span class="w"> </span>-in<span class="w"> </span>autosigned.server.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>md5
<span class="o">(</span>stdin<span class="o">)=</span><span class="w"> </span>749c4e62abb2fcc4f16325f5ccbe5d24
</code></pre></div>
<h2 id="no-se-que">No se que</h2>
<div class="highlight"><pre><span></span><code><span class="o">[</span>root@hp01<span class="w"> </span>m11<span class="o">]</span><span class="c1"># openssl s_client -connect 172.17.0.2:443</span>
---
GET<span class="w"> </span>/<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>www.m11.cat

---
GET<span class="w"> </span>/<span class="w"> </span>HTTP/1.1
Host:<span class="w"> </span>www.admin.cat

<span class="o">[</span>root@hp01<span class="w"> </span>m11<span class="o">]</span><span class="c1"># curl -v -ssl https://www.m11.cat</span>

<span class="o">[</span>root@https<span class="w"> </span>/<span class="o">]</span><span class="c1"># openssl s_client -connect pop.gmail.com:995</span>
USER<span class="w"> </span>edtasixm14
+OK<span class="w"> </span>send<span class="w"> </span>PASS
PASS<span class="w"> </span>xxxxx
+OK<span class="w"> </span>Welcome.
STAT
+OK<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">87440</span>
LIST
+OK<span class="w"> </span><span class="m">8</span><span class="w"> </span>messages<span class="w"> </span><span class="o">(</span><span class="m">87440</span><span class="w"> </span>bytes<span class="o">)</span>
<span class="m">1</span><span class="w"> </span><span class="m">6928</span>
<span class="m">2</span><span class="w"> </span><span class="m">7758</span>
<span class="m">3</span><span class="w"> </span><span class="m">4844</span>
<span class="m">4</span><span class="w"> </span><span class="m">5364</span>
<span class="m">5</span><span class="w"> </span><span class="m">5071</span>
<span class="m">6</span><span class="w"> </span><span class="m">35142</span>
<span class="m">7</span><span class="w"> </span><span class="m">12120</span>
<span class="m">8</span><span class="w"> </span><span class="m">10213</span>
.
QUIT
DONE

<span class="c1"># conectar con sclient a un virtual host</span>
openssl<span class="w"> </span>s_client<span class="w"> </span>-servername<span class="w"> </span>www.web1.org<span class="w"> </span>-connect<span class="w"> </span><span class="m">172</span>.17.0.2:443
openssl<span class="w"> </span>s_client<span class="w"> </span>-CAfile<span class="w"> </span>cacert.pem<span class="w"> </span>-servername<span class="w"> </span>www.web1.org<span class="w"> </span>-connect
<span class="m">172</span>.17.0.2:443

<span class="c1"># verificar</span>
➜<span class="w">  </span>tls19:https<span class="w"> </span>openssl<span class="w"> </span>verify<span class="w"> </span>-CAfile<span class="w"> </span>cacert.pem<span class="w"> </span>servercert.web1.pem<span class="w">                                      </span>
<span class="c1"># descargar certificado remoto</span>
➜<span class="w">  </span>tls19:https<span class="w"> </span>openssl<span class="w"> </span>s_client<span class="w"> </span>-servername<span class="w"> </span>www.web1.org<span class="w"> </span>-connect<span class="w"> </span><span class="m">172</span>.17.0.2:443<span class="w">  </span>&lt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-outform<span class="w"> </span>PEM<span class="w"> </span>&gt;<span class="w"> </span>downloaded.cert.pem
➜<span class="w">  </span>tls19:https<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>downloaded.cert.pem
</code></pre></div>
<h2 id="ldap-tls">Ldap tls</h2>
<p>Ldap con conexiones seguras TLS/SSL  y startTLS.</p>
<h3 id="generar-certificados">Generar certificados</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># genrar llaves privadas, del servidor.</span>
openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>cakey.pem<span class="w"> </span><span class="m">2048</span>
openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>serverkey.pem<span class="w"> </span><span class="m">2048</span>

<span class="c1"># genrar certificado propio de la entidad CA por 365 dias</span>
openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-nodes<span class="w"> </span>-sha1<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-key<span class="w"> </span>cakey.pem<span class="w"> </span>-out<span class="w"> </span>cacrt.pem
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:Barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:Varitat<span class="w"> </span>Absoluta
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Dep<span class="w"> </span>de<span class="w"> </span>certificats
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:VeritatAbsoluta
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org

<span class="c1"># generar una de  certificado request para enviar a la entidad certificadora CA</span>
openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>serverkey.pem<span class="w"> </span>-out<span class="w"> </span>servercsr.pem<span class="w"> </span>

You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:Barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:escola<span class="w"> </span>de<span class="w"> </span>mi<span class="w"> </span>casa<span class="w"> </span>
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:dep<span class="w"> </span>informatica
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:ldap.edt.org
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="s1">&#39;extra&#39;</span><span class="w"> </span>attributes
to<span class="w"> </span>be<span class="w"> </span>sent<span class="w"> </span>with<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request
A<span class="w"> </span>challenge<span class="w"> </span>password<span class="w"> </span><span class="o">[]</span>:request<span class="w"> </span>password
An<span class="w"> </span>optional<span class="w"> </span>company<span class="w"> </span>name<span class="w"> </span><span class="o">[]</span>:edt

<span class="c1"># Una entidad CA a de firmar el servercsr.pem y devolvernos un certificado.crt, como hago yo mismo de entidad</span>
cat<span class="w"> </span>ca.conf<span class="w"> </span>
<span class="nv">basicConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>critical,CA:FALSE
<span class="nv">extendedKeyUsage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>serverAuth,emailProtection

<span class="c1"># Autoridad CA firmando el certificado </span>
openssl<span class="w"> </span>x509<span class="w"> </span>-CA<span class="w"> </span>cacrt.pem<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>servercsr.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-sha1<span class="w"> </span>-extfile<span class="w"> </span>ca.conf<span class="w"> </span>-CAcreateserial<span class="w"> </span>-out<span class="w"> </span>servercrt.pem<span class="w"> </span>

Signature<span class="w"> </span>ok
<span class="nv">subject</span><span class="o">=</span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>escola<span class="w"> </span>de<span class="w"> </span>mi<span class="w"> </span>casa,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>dep<span class="w"> </span>informatica,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ldap.edt.org,<span class="w"> </span><span class="nv">emailAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>admin@edt.org
Getting<span class="w"> </span>CA<span class="w"> </span>Private<span class="w"> </span>Key

<span class="c1"># archivos finales</span>
➜<span class="w">  </span>ll
total<span class="w"> </span>60K
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">   </span><span class="m">83</span><span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:14<span class="w"> </span>ca.conf
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,5K<span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:23<span class="w"> </span>cacrt.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">   </span><span class="m">41</span><span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:35<span class="w"> </span>cacrt.srl
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,7K<span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:14<span class="w"> </span>cakey.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,5K<span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:35<span class="w"> </span>servercrt.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,2K<span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:32<span class="w"> </span>servercsr.pem
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,7K<span class="w"> </span>abr<span class="w">  </span><span class="m">1</span><span class="w"> </span><span class="m">10</span>:14<span class="w"> </span>serverkey.pem
</code></pre></div>
<h3 id="configuracion">Configuración</h3>
<div class="highlight"><pre><span></span><code>slapd.conf
---
TLSCACertificateFile<span class="w">    </span>/etc/openldap/certs/cacrt.pem
TLSCertificateFile<span class="w">      </span>/etc/openldap/certs/servercrt.pem
TLSCertificateKeyFile<span class="w">   </span>/etc/openldap/certs/serverkey.pem
TLSVerifyClient<span class="w">         </span>never
TLSCipherSuite<span class="w">          </span>HIGH:MEDIUM:LOW:+SSLv2
---

ldap.conf
---
TLS_CACERT<span class="w"> </span>/etc/openldap/certs/cacrt.pem
SASL_NOCANON<span class="w">    </span>on
URI<span class="w"> </span>ldap://ldap.edt.org
BASE<span class="w"> </span><span class="nv">dc</span><span class="o">=</span>edt,dc<span class="o">=</span>org
---

startup.sh
---
/sbin/slapd<span class="w"> </span>-d0<span class="w"> </span>-h<span class="w"> </span><span class="s2">&quot;ldap:/// ldaps:/// ldapi:///&quot;</span><span class="w"> </span>
---
</code></pre></div>
<p>cliente <code>ldap.conf</code></p>
<div class="highlight"><pre><span></span><code>TLS_CACERT<span class="w"> </span>/etc/ldap/cacrt.pem
TLS_REQCERT<span class="w"> </span>allow

URI<span class="w"> </span>ldap://ldap.edt.org
BASE<span class="w"> </span><span class="nv">dc</span><span class="o">=</span>edt,dc<span class="o">=</span>org

SASL_NOCANON<span class="w"> </span>on
</code></pre></div>
<h3 id="comprobaciones">Comprobaciones</h3>
<div class="highlight"><pre><span></span><code>ldapsearch<span class="w"> </span>-x<span class="w"> </span>-LLL<span class="w"> </span>-ZZ<span class="w"> </span>dn
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-LLL<span class="w"> </span>-ZZ<span class="w"> </span>-h<span class="w"> </span>ldap.edt.org<span class="w"> </span>-b<span class="w"> </span><span class="s1">&#39;dc=edt,dc=org&#39;</span><span class="w"> </span>dn
ldapsearch<span class="w"> </span>-x<span class="w"> </span>-LLL<span class="w"> </span>-H<span class="w"> </span>ldaps://ldap.edt.org<span class="w"> </span>dn
openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>ldap.edt.org:636
</code></pre></div>
<h3 id="docker">Docker</h3>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>ldap.edt.org<span class="w"> </span>-h<span class="w"> </span>ldap.edt.org<span class="w"> </span>-p<span class="w"> </span><span class="m">389</span>:389<span class="w">  </span>-p<span class="w"> </span><span class="m">636</span>:636<span class="w"> </span>-d<span class="w"> </span>jorgepastorr/ldapserver19:tls<span class="w"> </span>
</code></pre></div>
<h2 id="openvpn">OpenVpn</h2>
<h3 id="generar-llaves-servidor">Generar llaves servidor</h3>
<p>Primero creamos nuestra CA</p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>openssl<span class="w"> </span>genrsa<span class="w"> </span>-des3<span class="w"> </span>-out<span class="w"> </span>cakey.pem<span class="w"> </span><span class="m">2048</span>
➜<span class="w">  </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-nodes<span class="w"> </span>-sha1<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-key<span class="w"> </span>cakey.pem<span class="w"> </span>-out<span class="w"> </span>cacert.pem
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>cakey.pem:
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:Barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:Veritat<span class="w"> </span>absoluta
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:Departament<span class="w"> </span>de<span class="w"> </span>certificats
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:VeritatAbsoluta
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:admin@edt.org

➜<span class="w"> </span>ll
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,5K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:24<span class="w"> </span>cacert.pem
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,8K<span class="w"> </span>mar<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">11</span>:17<span class="w"> </span>cakey.pem
</code></pre></div>
<p>generar la llave del servidor y el request para enviar a la CA para que nos certifique.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>dhparam<span class="w"> </span>-out<span class="w"> </span>dh2048.pem<span class="w"> </span><span class="m">2048</span>

<span class="c1"># llave del server</span>
➜<span class="w"> </span>openssl<span class="w"> </span>genrsa<span class="w">  </span>-out<span class="w"> </span>serverkey.pem<span class="w"> </span><span class="m">2048</span><span class="w">                                 </span>
Generating<span class="w"> </span>RSA<span class="w"> </span>private<span class="w"> </span>key,<span class="w"> </span><span class="m">2048</span><span class="w"> </span>bit<span class="w"> </span>long<span class="w"> </span>modulus<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>primes<span class="o">)</span>
.........................................+++++
................................................................+++++
e<span class="w"> </span>is<span class="w"> </span><span class="m">65537</span><span class="w"> </span><span class="o">(</span>0x010001<span class="o">)</span>

<span class="c1"># request para la CA</span>
➜<span class="w"> </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>serverkey.pem<span class="w"> </span>-out<span class="w"> </span>serverreq.pem
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:server<span class="w"> </span>vvpn
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:VpnServer
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:VpnServer
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="s1">&#39;extra&#39;</span><span class="w"> </span>attributes
to<span class="w"> </span>be<span class="w"> </span>sent<span class="w"> </span>with<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request
A<span class="w"> </span>challenge<span class="w"> </span>password<span class="w"> </span><span class="o">[]</span>:request<span class="w"> </span>password
An<span class="w"> </span>optional<span class="w"> </span>company<span class="w"> </span>name<span class="w"> </span><span class="o">[]</span>:edt
</code></pre></div>
<p>Como no tenemos CA externa, simulamos una y nos auto certificamos.</p>
<p>fichero de extensiones para servidor:</p>
<p><em>ext.server.conf</em></p>
<div class="highlight"><pre><span></span><code><span class="nv">basicConstraints</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>CA:FALSE
<span class="nv">nsCertType</span><span class="w">             </span><span class="o">=</span><span class="w"> </span>server
<span class="nv">nsComment</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;OpenSSL Generated Server Certificate&quot;</span>
<span class="nv">subjectKeyIdentifier</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nb">hash</span>
<span class="nv">authorityKeyIdentifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>keyid,issuer:always
<span class="nv">extendedKeyUsage</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>serverAuth
<span class="nv">keyUsage</span><span class="w">               </span><span class="o">=</span><span class="w"> </span>digitalSignature,<span class="w"> </span>keyEncipherment
</code></pre></div>
<p>Generar certificado ( esto lo debería hacer una certificadora externa a nosotros )</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacert.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>serverreq.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-CAcreateserial<span class="w"> </span>-extfile<span class="w"> </span>ext.server.conf<span class="w"> </span>-out<span class="w"> </span>servercert.pem<span class="w"> </span>
Signature<span class="w"> </span>ok
<span class="nv">subject</span><span class="o">=</span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>server<span class="w"> </span>vvpn,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>VpnServer,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>VpnServer
Getting<span class="w"> </span>CA<span class="w"> </span>Private<span class="w"> </span>Key
</code></pre></div>
<p>Archivos generados:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>tls19:vpn<span class="w"> </span>ll
total<span class="w"> </span>64K
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,4K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:29<span class="w"> </span>cacert.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">   </span><span class="m">41</span><span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:40<span class="w"> </span>cacert.srl
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,7K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:27<span class="w"> </span>cakey.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">  </span><span class="m">424</span><span class="w"> </span>abr<span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="m">11</span>:39<span class="w"> </span>dh2048.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">  </span><span class="m">301</span><span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:12<span class="w"> </span>ext.server.conf
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,8K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:37<span class="w"> </span>servercert.pem
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,7K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:30<span class="w"> </span>serverkey.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,1K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:32<span class="w"> </span>serverreq.pem
</code></pre></div>
<h3 id="generar-llaves-cliente">Generar llaves cliente</h3>
<p>Lo recomendable es que cada cliente tenga una llave propia para conectar con el servidor, por lo tanto estos pasos se deben repetir por cada cliente que quiera conectar con el servidor.</p>
<p>generar llave de cliente y request para certificar.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>genrsa<span class="w">  </span>-out<span class="w"> </span>cliekey1.pem<span class="w"> </span><span class="m">2048</span><span class="w">                                                                                          </span>
Generating<span class="w"> </span>RSA<span class="w"> </span>private<span class="w"> </span>key,<span class="w"> </span><span class="m">2048</span><span class="w"> </span>bit<span class="w"> </span>long<span class="w"> </span>modulus<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>primes<span class="o">)</span>
........................................................................+++++
....................................................+++++
e<span class="w"> </span>is<span class="w"> </span><span class="m">65537</span><span class="w"> </span><span class="o">(</span>0x010001<span class="o">)</span>

<span class="c1"># generar request ( quien soy )</span>
➜<span class="w"> </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>cliekey1.pem<span class="w"> </span>-out<span class="w"> </span>cliereq1.pem<span class="w">                                                                              </span>
You<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>asked<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>information<span class="w"> </span>that<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>incorporated
into<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request.
What<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>about<span class="w"> </span>to<span class="w"> </span>enter<span class="w"> </span>is<span class="w"> </span>what<span class="w"> </span>is<span class="w"> </span>called<span class="w"> </span>a<span class="w"> </span>Distinguished<span class="w"> </span>Name<span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>DN.
There<span class="w"> </span>are<span class="w"> </span>quite<span class="w"> </span>a<span class="w"> </span>few<span class="w"> </span>fields<span class="w"> </span>but<span class="w"> </span>you<span class="w"> </span>can<span class="w"> </span>leave<span class="w"> </span>some<span class="w"> </span>blank
For<span class="w"> </span>some<span class="w"> </span>fields<span class="w"> </span>there<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>default<span class="w"> </span>value,
If<span class="w"> </span>you<span class="w"> </span>enter<span class="w"> </span><span class="s1">&#39;.&#39;</span>,<span class="w"> </span>the<span class="w"> </span>field<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>left<span class="w"> </span>blank.
-----
Country<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>letter<span class="w"> </span>code<span class="o">)</span><span class="w"> </span><span class="o">[</span>AU<span class="o">]</span>:ca
State<span class="w"> </span>or<span class="w"> </span>Province<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>full<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[</span>Some-State<span class="o">]</span>:barcelona
Locality<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>city<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:barcelona
Organization<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>company<span class="o">)</span><span class="w"> </span><span class="o">[</span>Internet<span class="w"> </span>Widgits<span class="w"> </span>Pty<span class="w"> </span>Ltd<span class="o">]</span>:cliente<span class="w"> </span><span class="m">1</span><span class="w"> </span>server<span class="w"> </span>vpn
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:cliente1
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:cliente1
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:

Please<span class="w"> </span>enter<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span><span class="s1">&#39;extra&#39;</span><span class="w"> </span>attributes
to<span class="w"> </span>be<span class="w"> </span>sent<span class="w"> </span>with<span class="w"> </span>your<span class="w"> </span>certificate<span class="w"> </span>request
A<span class="w"> </span>challenge<span class="w"> </span>password<span class="w"> </span><span class="o">[]</span>:request<span class="w"> </span>password
An<span class="w"> </span>optional<span class="w"> </span>company<span class="w"> </span>name<span class="w"> </span><span class="o">[]</span>:edt
</code></pre></div>
<p>Generar certificado desde una CA, una CA verifica que eres quien dices ser.</p>
<p>fichero de extensiones para cliente</p>
<div class="highlight"><pre><span></span><code><span class="nv">basicConstraints</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>CA:FALSE
<span class="nv">subjectKeyIdentifier</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">hash</span>
<span class="nv">authorityKeyIdentifier</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>keyid,issuer:always
</code></pre></div>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacert.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>cliereq1.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-CAcreateserial<span class="w"> </span>-extfile<span class="w"> </span>ext.client.conf<span class="w"> </span>-out<span class="w"> </span>cliecert1.pem<span class="w">  </span>
Signature<span class="w"> </span>ok
<span class="nv">subject</span><span class="o">=</span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>cliente<span class="w"> </span><span class="m">1</span><span class="w"> </span>server<span class="w"> </span>vpn,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>cliente1,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>cliente1
Getting<span class="w"> </span>CA<span class="w"> </span>Private<span class="w"> </span>Key
</code></pre></div>
<p>Archivos generados para cliente:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>ll
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,4K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:29<span class="w"> </span>cacert.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,6K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:40<span class="w"> </span>cliecert1.pem
-rw-------<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,7K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:38<span class="w"> </span>cliekey1.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">3</span>,6K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:15<span class="w"> </span>client.conf
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w"> </span><span class="m">1</span>,1K<span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:40<span class="w"> </span>cliereq1.pem
-rw-r--r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>debian<span class="w"> </span>debian<span class="w">  </span><span class="m">113</span><span class="w"> </span>abr<span class="w">  </span><span class="m">3</span><span class="w"> </span><span class="m">19</span>:13<span class="w"> </span>ext.client.conf
</code></pre></div>
<h3 id="tunel-manual">Túnel manual</h3>
<p>Una manera  de verificar que los certificados funcionan correctamente es creando un túnel manualmente, si funcionan correctamente pasamos va configurar el servidor.</p>
<div class="highlight"><pre><span></span><code>pc02<span class="w"> </span>➜<span class="w">  </span>sudo<span class="w"> </span>openvpn<span class="w"> </span>--remote<span class="w"> </span>pc03<span class="w"> </span>--dev<span class="w"> </span>tun1<span class="w"> </span>--ifconfig<span class="w"> </span><span class="m">10</span>.4.0.1<span class="w"> </span><span class="m">10</span>.4.0.2<span class="w"> </span>--tls-server<span class="w"> </span>--dh<span class="w"> </span>dh2048.pem<span class="w"> </span>--ca<span class="w"> </span>cacert.pem<span class="w"> </span>--cert<span class="w"> </span>servercert.pem<span class="w"> </span>--key<span class="w"> </span>serverkey.pem<span class="w"> </span>--reneg-sec<span class="w"> </span><span class="m">60</span>

<span class="o">[</span>jorge@pc03<span class="w"> </span>certs<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>openvpn<span class="w"> </span>--remote<span class="w"> </span>pc02<span class="w"> </span>--dev<span class="w"> </span>tun1<span class="w"> </span>--ifconfig<span class="w"> </span><span class="m">10</span>.4.0.2<span class="w"> </span><span class="m">10</span>.4.0.1<span class="w"> </span>--tls-client<span class="w"> </span>--ca<span class="w"> </span>cacert.pem<span class="w"> </span>--cert<span class="w"> </span>cliecert1.pem<span class="w"> </span>--key<span class="w"> </span>cliekey1.pem<span class="w"> </span>--reneg-sec<span class="w"> </span><span class="m">60</span>
</code></pre></div>
<h3 id="configurar">Configurar</h3>
<h4 id="servidor">Servidor</h4>
<p>Primero de todo hacemos una copia del servicio y lo modificamos para tener una configuración como se ve en el siguiente recuadro</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>/lib/systemd/system/openvpn-server@.service<span class="w"> </span>/etc/systemd/system/.

<span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>/etc/systemd/system/openvpn-server<span class="se">\@</span>.service<span class="w"> </span>
<span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>OpenVPN<span class="w"> </span>service<span class="w"> </span><span class="k">for</span><span class="w"> </span>%I<span class="w"> </span>hisx
<span class="nv">After</span><span class="o">=</span>syslog.target<span class="w"> </span>network-online.target

<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>forking
<span class="nv">PrivateTmp</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">ExecStartPre</span><span class="o">=</span>/usr/bin/echo<span class="w"> </span>serveri<span class="w"> </span>%i<span class="w"> </span>%I
<span class="nv">PIDFile</span><span class="o">=</span>/var/run/openvpn-server/%i.pid
<span class="nv">ExecStart</span><span class="o">=</span>/usr/sbin/openvpn<span class="w"> </span>--daemon<span class="w"> </span>--writepid<span class="w"> </span>/var/run/openvpn-server/%i.pid<span class="w"> </span>--cd<span class="w"> </span>/etc/openvpn/<span class="w"> </span>--config<span class="w"> </span>%i.conf

<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div>
<p>Cogemos el archivo de configuración de muestra y lo modificamos de la siguiente manera.</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>cp<span class="w"> </span>/usr/share/doc/openvpn/sample/sample-config-files/server.conf<span class="w"> </span>.
<span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>cp<span class="w"> </span>server.conf<span class="w"> </span>/etc/openvpn/confserver.conf
<span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>/etc/openvpn/confserver.conf<span class="w"> </span>

port<span class="w"> </span><span class="m">1194</span>
proto<span class="w"> </span>udp
dev<span class="w"> </span>tun<span class="w">     </span><span class="c1"># interfaz de vpn</span>

<span class="c1"># nuestras llaves para el server</span>
ca<span class="w"> </span>/etc/openvpn/keys/cacert.pem
cert<span class="w"> </span>/etc/openvpn/keys/servercert.pem
key<span class="w"> </span>/etc/openvpn/keys/serverkey.pem<span class="w"> </span>
dh<span class="w"> </span>/etc/openvpn/keys/dh2048.pem

server<span class="w"> </span><span class="m">10</span>.8.0.0<span class="w"> </span><span class="m">255</span>.255.255.0<span class="w">   </span><span class="c1"># red del vpn</span>
ifconfig-pool-persist<span class="w"> </span>ipp.txt
client-to-client<span class="w"> </span><span class="c1"># clientes se ven entre ellos</span>
<span class="p">;</span>duplicate-cn<span class="w">  </span><span class="c1">#  no permitir diferentes conexxiones con la misma llave</span>

keepalive<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">120</span>
cipher<span class="w"> </span>AES-256-CBC
comp-lzo<span class="w">    </span><span class="c1"># compresion</span>

persist-key
persist-tun

<span class="c1"># datos de logs</span>
status<span class="w"> </span>openvpn-status.log
verb<span class="w"> </span><span class="m">3</span>
explicit-exit-notify<span class="w"> </span><span class="m">1</span>
</code></pre></div>
<p>Los archivos de configuración quedan con la siguiente estructura.</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>fedora@ip-172-31-92-8<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>tree<span class="w"> </span>/etc/openvpn/
/etc/openvpn/
├──<span class="w"> </span>client
├──<span class="w"> </span>confserver.conf
├──<span class="w"> </span>ipp.txt
├──<span class="w"> </span>keys
│<span class="w">   </span>├──<span class="w"> </span>cacert.pem
│<span class="w">   </span>├──<span class="w"> </span>dh2048.pem
│<span class="w">   </span>├──<span class="w"> </span>servercert.pem
│<span class="w">   </span>└──<span class="w"> </span>serverkey.pem
├──<span class="w"> </span>openvpn-status.log
└──<span class="w"> </span>server
</code></pre></div>
<p>Poner en marcha el servidor.</p>
<p>Al poner en marcha el servidor Hay que tener en cuenta que hemos modificado un dominio manualmente, por eso se han de recargar. Otra cosa a tener en cuenta es que en el start, hay que indicar el nombre del archivo de configuración <code>openvpn-server@confserver</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># recargar los dominios</span>
<span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload<span class="w"> </span>

<span class="c1"># encender el servidor</span>
<span class="o">[</span>fedora@aws<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>openvpn-server@confserver.service

<span class="c1"># comprovar interfaz creada</span>
<span class="o">[</span>fedora@aws<span class="w"> </span><span class="o">]</span>$<span class="w"> </span>ip<span class="w"> </span>a<span class="w"> </span>s<span class="w"> </span>tun0
<span class="m">8</span>:<span class="w"> </span>tun0:<span class="w"> </span>&lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>fq_codel<span class="w"> </span>state<span class="w"> </span>UNKNOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">100</span>
<span class="w">    </span>link/none<span class="w"> </span>
<span class="w">    </span>inet<span class="w"> </span><span class="m">10</span>.8.0.1<span class="w"> </span>peer<span class="w"> </span><span class="m">10</span>.8.0.2/32<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>tun0
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="w">    </span>inet6<span class="w"> </span>fe80::b502:a827:5610:7c23/64<span class="w"> </span>scope<span class="w"> </span>link<span class="w"> </span>stable-privacy<span class="w"> </span>
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
</code></pre></div>
<h4 id="cliente">Cliente</h4>
<p>En la configuración del cliente es mas simple, ya que solo se a de modificar el archivo de configuración, agregar las llaves del cliente en su sitio y arrancar el servicio. Todos estos pasos se han de hacer por cada cliente con sus claves propias.</p>
<p>Archivo de configuración:</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>jorge@pc03<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>cat<span class="w"> </span>client/confclient.conf
client
dev<span class="w"> </span>tun
proto<span class="w"> </span>udp

remote<span class="w"> </span>aws<span class="w"> </span><span class="m">1194</span><span class="w"> </span><span class="c1"># ip/host port del servidor remoto</span>
resolv-retry<span class="w"> </span>infinite
nobind
persist-key
persist-tun

<span class="c1"># certificados</span>
ca<span class="w"> </span>/etc/openvpn/keys/cacert.pem
cert<span class="w">  </span>/etc/openvpn/keys/cliecert1.pem
key<span class="w">  </span>/etc/openvpn/keys/cliekey1.pem

remote-cert-tls<span class="w"> </span>server
cipher<span class="w"> </span>AES-256-CBC
comp-lzo
verb<span class="w"> </span><span class="m">3</span>
</code></pre></div>
<p>Se colocan las llaves en su sitio indicado</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>jorge@pc03<span class="w"> </span>openvpn<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>tree
.
├──<span class="w"> </span>client
│<span class="w">   </span>└──<span class="w"> </span>confclient.conf
├──<span class="w"> </span>keys
│<span class="w">   </span>├──<span class="w"> </span>cacert.pem
│<span class="w">   </span>├──<span class="w"> </span>cliecert1.pem
│<span class="w">   </span>└──<span class="w"> </span>cliekey1.pem
└──<span class="w"> </span>server
</code></pre></div>
<p>Como no tengo resolución dns  indico la resolución en el <code>/etc/hosts</code></p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>jorge@pc03<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>/etc/hosts
<span class="m">127</span>.0.0.1<span class="w">   </span>localhost<span class="w"> </span>localhost.localdomain<span class="w"> </span>localhost4<span class="w"> </span>localhost4.localdomain4
::1<span class="w">         </span>localhost<span class="w"> </span>localhost.localdomain<span class="w"> </span>localhost6<span class="w"> </span>localhost6.localdomain6
<span class="m">3</span>.86.219.56<span class="w"> </span>aws
</code></pre></div>
<p>Arrancar y comprobar.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># arrancar servicio, con el nombre del archivo de configuración</span>
<span class="o">[</span>jorge@pc03<span class="o">]</span>$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>openvpn-client@confclient

<span class="c1"># verificar que se a creado la interfaz</span>
<span class="o">[</span>jorge@pc03<span class="o">]</span>$<span class="w"> </span>ip<span class="w"> </span>a<span class="w"> </span>s<span class="w"> </span>tun0
<span class="m">9</span>:<span class="w"> </span>tun0:<span class="w"> </span>&lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt;<span class="w"> </span>mtu<span class="w"> </span><span class="m">1500</span><span class="w"> </span>qdisc<span class="w"> </span>fq_codel<span class="w"> </span>state<span class="w"> </span>UNKNOWN<span class="w"> </span>group<span class="w"> </span>default<span class="w"> </span>qlen<span class="w"> </span><span class="m">100</span>
<span class="w">    </span>link/none<span class="w"> </span>
<span class="w">    </span>inet<span class="w"> </span><span class="m">10</span>.8.0.6<span class="w"> </span>peer<span class="w"> </span><span class="m">10</span>.8.0.5/32<span class="w"> </span>scope<span class="w"> </span>global<span class="w"> </span>tun0
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever
<span class="w">    </span>inet6<span class="w"> </span>fe80::7b5f:a77b:2a32:be1e/64<span class="w"> </span>scope<span class="w"> </span>link<span class="w"> </span>stable-privacy<span class="w"> </span>
<span class="w">       </span>valid_lft<span class="w"> </span>forever<span class="w"> </span>preferred_lft<span class="w"> </span>forever

<span class="c1"># comprovar que llego al otro extremo</span>
<span class="o">[</span>jorge@pc03<span class="o">]</span>$<span class="w"> </span>curl<span class="w"> </span><span class="m">10</span>.8.0.1:13
<span class="m">04</span><span class="w"> </span>APR<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">11</span>:26:59<span class="w"> </span>UTC
</code></pre></div>
<h2 id="extensiones">Extensiones</h2>
<h3 id="fichero-especifico-de-extension">fichero especifico de extensión</h3>
<p>Generar un certificado de servidor ldap que correrá en un container llamado <code>ldap.edt.org</code> pero que también acepte conexiones realizadas en nip <code>172.17.0.2, 127.0.0.1, ldaps://mysecureldapserver.org</code>.</p>
<p>Creo un fichero de extensiones y defino el <code>subjectAltName</code> para cada uno de los nombres alternativos.</p>
<p><em>ext.alterare.conf</em></p>
<div class="highlight"><pre><span></span><code><span class="nv">basicConstraints</span><span class="o">=</span>CA:FALSE
<span class="nv">extendedKeyUsage</span><span class="o">=</span>serverAuth
<span class="nv">subjectAltName</span><span class="o">=</span>IP:172.17.0.2,IP:127.0.0.1,email:copy,URI:ldaps://mysecureldapserver.org
</code></pre></div>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>ldap<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacrt.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>serverreq.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-CAcreateserial<span class="w">  </span>-extfile<span class="w"> </span>ext.alterate.conf<span class="w"> </span>-out<span class="w"> </span>servercert.alternate.pem<span class="w"> </span>
Signature<span class="w"> </span>ok
<span class="nv">subject</span><span class="o">=</span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>edt,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>EDT,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ldap.edt.org
Getting<span class="w"> </span>CA<span class="w"> </span>Private<span class="w"> </span>Key
</code></pre></div>
<div class="highlight"><pre><span></span><code>➜<span class="w">  </span>ldap<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-noout<span class="w"> </span>-text<span class="w"> </span>-in<span class="w"> </span>servercert.alternate.pem<span class="w">                                                                                                  </span>
Certificate:
<span class="w">    </span>Data:
<span class="w">        </span>Version:<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">(</span>0x2<span class="o">)</span>
<span class="w">        </span>Serial<span class="w"> </span>Number:
<span class="w">            </span>7a:e9:d4:14:65:f2:8e:66:aa:9c:0f:88:33:24:8c:cb:21:02:05:dc
<span class="w">        </span>Signature<span class="w"> </span>Algorithm:<span class="w"> </span>sha256WithRSAEncryption
<span class="w">        </span>Issuer:<span class="w"> </span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Veritat<span class="w"> </span>absoluta,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>departament<span class="w"> </span>certificats,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>VeritatAbsoluta
<span class="w">        </span>Validity
<span class="w">            </span>Not<span class="w"> </span>Before:<span class="w"> </span>Apr<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">08</span>:54:33<span class="w"> </span><span class="m">2020</span><span class="w"> </span>GMT
<span class="w">            </span>Not<span class="w"> </span>After<span class="w"> </span>:<span class="w"> </span>Apr<span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">08</span>:54:33<span class="w"> </span><span class="m">2021</span><span class="w"> </span>GMT
<span class="w">        </span>Subject:<span class="w"> </span><span class="nv">C</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ca,<span class="w"> </span><span class="nv">ST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>barcelona,<span class="w"> </span><span class="nv">O</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>edt,<span class="w"> </span><span class="nv">OU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>EDT,<span class="w"> </span><span class="nv">CN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ldap.edt.org
<span class="w">        </span>Subject<span class="w"> </span>Public<span class="w"> </span>Key<span class="w"> </span>Info:
...
<span class="w">        </span>X509v3<span class="w"> </span>extensions:
<span class="w">            </span>X509v3<span class="w"> </span>Basic<span class="w"> </span>Constraints:<span class="w"> </span>
<span class="w">                </span>CA:FALSE
<span class="w">            </span>X509v3<span class="w"> </span>Extended<span class="w"> </span>Key<span class="w"> </span>Usage:<span class="w"> </span>
<span class="w">                </span>TLS<span class="w"> </span>Web<span class="w"> </span>Server<span class="w"> </span>Authentication
<span class="w">            </span>X509v3<span class="w"> </span>Subject<span class="w"> </span>Alternative<span class="w"> </span>Name:<span class="w"> </span>
<span class="w">                </span>IP<span class="w"> </span>Address:172.17.0.2,<span class="w"> </span>IP<span class="w"> </span>Address:127.0.0.1,<span class="w"> </span>URI:ldaps://mysecureldapserver.org
</code></pre></div>
<h3 id="fichero-global">fichero global</h3>
<p>fedora: <code>/etc/pki/tls/openssl.cnf</code> , debian: <code>/etc/ssl/openssl.cnf</code> </p>
<p><em>openssl.cnf</em></p>
<div class="highlight"><pre><span></span><code>...
<span class="o">[</span><span class="w"> </span>my_client<span class="w"> </span><span class="o">]</span>
<span class="nv">basicConstraints</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>CA:FALSE
<span class="nv">subjectKeyIdentifier</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nb">hash</span>
<span class="nv">authorityKeyIdentifier</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>keyid,issuer:always

<span class="o">[</span><span class="w"> </span>my_server<span class="w"> </span><span class="o">]</span>
<span class="nv">basicConstraints</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>CA:FALSE
<span class="nv">nsCertType</span><span class="w">          </span><span class="o">=</span><span class="w"> </span>server
<span class="nv">nsComment</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;OpenSSL Generated Server Certificate&quot;</span>
<span class="nv">subjectKeyIdentifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">hash</span>
<span class="nv">authorityKeyIdentifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>keyid,issuer:always
<span class="nv">extendedKeyUsage</span><span class="w">    </span><span class="o">=</span><span class="w"> </span>serverAuth
<span class="nv">keyUsage</span><span class="w">            </span><span class="o">=</span><span class="w"> </span>digitalSignature,<span class="w"> </span>keyEncipherment
...
</code></pre></div>
<p>Certificar usando la extensión del fichero global</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ca utilizando extension de archivo de configuración</span>
➜<span class="w">  </span>ldap<span class="w"> </span>openssl<span class="w"> </span>x509<span class="w"> </span>-CAkey<span class="w"> </span>cakey.pem<span class="w"> </span>-CA<span class="w"> </span>cacrt.pem<span class="w"> </span>-req<span class="w"> </span>-in<span class="w"> </span>serverreq.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-CAcreateserial<span class="w">  </span>-extfile<span class="w"> </span>/etc/ssl/openssl.cnf<span class="w"> </span>-extensions<span class="w"> </span>my_client<span class="w"> </span>-out<span class="w"> </span>servercert.alternate.pem

<span class="c1"># certificado autofirmado</span>
➜<span class="w">  </span>ldap<span class="w"> </span>openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-x509<span class="w"> </span>-key<span class="w"> </span>cakey.pem<span class="w"> </span>-config<span class="w"> </span>openssl.cnf<span class="w"> </span>-extensions<span class="w"> </span>usr_cert<span class="w"> </span>-out<span class="w"> </span>cert1.pem
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../lpi/305/353.4Vagrant/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 353.4 Vagrant (weight: 3)" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              353.4 Vagrant (weight: 3)
            </div>
          </div>
        </a>
      
      
        
        <a href="../Kerberos/" class="md-footer__link md-footer__link--next" aria-label="Next: Kerberos" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Kerberos
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.bd0b6b67.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>