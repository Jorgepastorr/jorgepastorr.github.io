
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Jorge Pastor">
      
      
        <link rel="canonical" href="https://jorgepastorr.github.io/apuntes/administracion/server-correo/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.5">
    
    
      
        <title>Servidor Correo - Apuntes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2d9f7617.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#servidor-correo" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Apuntes" class="md-header__button md-logo" aria-label="Apuntes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Servidor Correo
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apuntes" class="md-nav__button md-logo" aria-label="Apuntes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Apuntes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Apuntes Jorgepastorr
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Administracion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Administracion" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Administracion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Configurar_pantallas_manualmente/" class="md-nav__link">
        Configurar pantallas manualmente
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Debian_hostname_dinamico/" class="md-nav__link">
        Debian hostname dinamico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Mutt/" class="md-nav__link">
        Que es mutt?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Procesos/" class="md-nav__link">
        Procesos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Resetear_la_password_root/" class="md-nav__link">
        Resetear la password root.
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Vim/" class="md-nav__link">
        Vim atajos básicos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../awk/" class="md-nav__link">
        Uso básico de AWK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../freeipa/" class="md-nav__link">
        FreeIpa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../instalar_webmin/" class="md-nav__link">
        instalar webmin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../per/" class="md-nav__link">
        PER
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../permisos_avanzados/" class="md-nav__link">
        Permisos avanzados
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../samba/" class="md-nav__link">
        Samba
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Servidor Correo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Servidor Correo
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    Componentes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funcionamiento" class="md-nav__link">
    Funcionamiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurar-dns" class="md-nav__link">
    Configurar DNS
  </a>
  
    <nav class="md-nav" aria-label="Configurar DNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resolucion-directa-tipo-a-y-mx" class="md-nav__link">
    Resolución directa tipo A y MX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolucion-inversa-tipo-ptr" class="md-nav__link">
    Resolución inversa tipo PTR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones-dns" class="md-nav__link">
    Comprobaciones DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisitos" class="md-nav__link">
    Prerequisitos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-basica" class="md-nav__link">
    Configuración básica
  </a>
  
    <nav class="md-nav" aria-label="Configuración básica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-postfix" class="md-nav__link">
    Instalación de postfix
  </a>
  
    <nav class="md-nav" aria-label="Instalación de postfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compruebo-funcionamiento-postfix" class="md-nav__link">
    Compruebo funcionamiento postfix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-dovecot" class="md-nav__link">
    Instalación Dovecot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-funcionamiento" class="md-nav__link">
    Comprobar funcionamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-cifrada-sasl-tls" class="md-nav__link">
    Configuración cifrada SASL + TLS
  </a>
  
    <nav class="md-nav" aria-label="Configuración cifrada SASL + TLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-llaves" class="md-nav__link">
    generar llaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conf-postfix" class="md-nav__link">
    Conf postfix
  </a>
  
    <nav class="md-nav" aria-label="Conf postfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maincf" class="md-nav__link">
    Main.cf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mastercf" class="md-nav__link">
    Master.cf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conf-dovecot" class="md-nav__link">
    Conf dovecot
  </a>
  
    <nav class="md-nav" aria-label="Conf dovecot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dovecotconf" class="md-nav__link">
    dovecot.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-authconf" class="md-nav__link">
    10-auth.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-mailconf" class="md-nav__link">
    10-mail.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-masterconf" class="md-nav__link">
    10-master.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-sslconf" class="md-nav__link">
    10-ssl.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#20-pop3conf" class="md-nav__link">
    20-pop3.conf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcional-seguridad" class="md-nav__link">
    Opcional seguridad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-funcionamiento_1" class="md-nav__link">
    Comprobar funcionamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server-mensajeria/" class="md-nav__link">
        Server mensajeria instantanea
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ssh/" class="md-nav__link">
        ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sudo/" class="md-nav__link">
        sudo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../umask/" class="md-nav__link">
        umask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usuarios/" class="md-nav__link">
        Usuarios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vnc/" class="md-nav__link">
        vnc
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../webdav/" class="md-nav__link">
        webdav
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_21" type="checkbox" id="__nav_2_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_21">
          Ldap
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ldap" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_21">
          <span class="md-nav__icon md-icon"></span>
          Ldap
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/Ldap-Samba-Hostpam/" class="md-nav__link">
        Ldap - Samba - Hostpam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/acl_ejercicios/" class="md-nav__link">
        Acl ejercicios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/host-kerberos-con-ldap/" class="md-nav__link">
        Instalación host  ldap-kerberos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/ldap/" class="md-nav__link">
        ldap
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_22" type="checkbox" id="__nav_2_22" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_22">
          Pxe
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pxe" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_22">
          <span class="md-nav__icon md-icon"></span>
          Pxe
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pxe/Servidor-pxe-con-rapberry/" class="md-nav__link">
        Servidor pxe con rapberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pxe/guiapxe-fedora/" class="md-nav__link">
        Guiapxe fedora
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_23" type="checkbox" id="__nav_2_23" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_23">
          Redes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Redes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_23">
          <span class="md-nav__icon md-icon"></span>
          Redes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redes/apuntes-xarxa/" class="md-nav__link">
        APUNTS DE XARXES
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redes/comandos_router_switch/" class="md-nav__link">
        Configuració de Routers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redes/haproxy/" class="md-nav__link">
        Haproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../redes/redes2/" class="md-nav__link">
        Redes2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Auditoria
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Auditoria" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Auditoria
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../auditoria/apuntes_hacking/" class="md-nav__link">
        Haking ético
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Bases datos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bases datos" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Bases datos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Mongo
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Mongo" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Mongo
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/mongo/Mongo/" class="md-nav__link">
        Mongo
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_2">
          Postgres
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Postgres" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Postgres
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/bases/" class="md-nav__link">
        Postgres
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/modificaciones/" class="md-nav__link">
        Modificación tablas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/plpgsql/" class="md-nav__link">
        Plpgsql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bases_datos/postgres/postgresql-intalacion/" class="md-nav__link">
        Postgresql intalacion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Ccna
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ccna" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Ccna
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/ordenes/" class="md-nav__link">
        ordenes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          1 IntroducciónRedes(ITN)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1 IntroducciónRedes(ITN)" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          1 IntroducciónRedes(ITN)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/01-LasRedesEnLaActualidad/" class="md-nav__link">
        01 LasRedesEnLaActualidad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/02-ConfiguracionBasicaDelSwitchYdisp/" class="md-nav__link">
        Configuración básica del Switch y dispositivo final
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/03-ProtocolosYmodelos/" class="md-nav__link">
        Protocolos y modelos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/04-CapaFisica/" class="md-nav__link">
        Capa Física
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/05-SistemasDeNumeracion/" class="md-nav__link">
        Sistemas de numeración
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/06-CapaDeEnlaceDeDatos/" class="md-nav__link">
        Capa de enlace de datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/07-ConmutacionEthernet/" class="md-nav__link">
        Conmutación Ethernet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/08-CapaDeRed/" class="md-nav__link">
        Capa de Red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/09-Resoluci%C3%B3nDeDireccion/" class="md-nav__link">
        Resolución de dirección
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/10-ConfiguracionBasicaDelRouter/" class="md-nav__link">
        Configuración básica del router
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/11-DireccionamientoIPv4/" class="md-nav__link">
        Direccionamiento IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/12-DireccionamientoIPv6/" class="md-nav__link">
        Direccionamiento IPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/13-ICMP/" class="md-nav__link">
        ICMP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/14-CapaDeTransporte/" class="md-nav__link">
        Capa de transporte
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/15-CapaDeAplicacion/" class="md-nav__link">
        Capa de aplicación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/16-FundamentosDeSeguridadDeRed/" class="md-nav__link">
        Fundamentos de seguridad de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/17-ConstruirUnaRedPeque%C3%B1a/" class="md-nav__link">
        Construir una red pequeña
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/ipv6/" class="md-nav__link">
        IPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/1-Introducci%C3%B3nRedes%28ITN%29/minicom/" class="md-nav__link">
        Minicom
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          2 Switching Routing And WirelessEssentials(SRWE)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2 Switching Routing And WirelessEssentials(SRWE)" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          2 Switching Routing And WirelessEssentials(SRWE)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/01-ConfiguracionBasicaDelDispositivo/" class="md-nav__link">
        Configuración básica del dispositivo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/03-VLAN/" class="md-nav__link">
        VLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/04-Inter-VLAN-Routing/" class="md-nav__link">
        Inter-VLAN Routing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/05-ConceptosSTP/" class="md-nav__link">
        Conceptos STP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/06-EtherChannel/" class="md-nav__link">
        EtherChannel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/07-DHCPv4/" class="md-nav__link">
        DHCPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/08-SLAACyDHCPv6/" class="md-nav__link">
        SLAAC y DHCPv6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/09-ConceptosdeFHRP/" class="md-nav__link">
        Conceptos de FHRP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/10-ConceptosSeguridadLAN/" class="md-nav__link">
        Conceptos de seguridad LAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/11-ConfiguracionSeguridadSwitch/" class="md-nav__link">
        Configuración de seguridad en el Switch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/12-ConceptosWLAN/" class="md-nav__link">
        Conceptos de WLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/13-ConfiguracionesRedesInal%C3%A1mbricasWLAN/" class="md-nav__link">
        Configuraciones de redes inalámbricas WLAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/14-ConceptosEnrutamiento/" class="md-nav__link">
        Conceptos de enrutamiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/2-Switching-Routing-And-WirelessEssentials%28SRWE%29/15-EnrutamientoIPEstatico/" class="md-nav__link">
        Enrutamiento IP Estático
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          3 Enterprise Networking Security AndAutomation ENSA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="3 Enterprise Networking Security AndAutomation ENSA" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          3 Enterprise Networking Security AndAutomation ENSA
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/01-ConceptosOSPFv2DeAreaUnica/" class="md-nav__link">
        Conceptos de OSPFv2 de área única
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/02-ConfiguracionOSPFv2AreaUnica/" class="md-nav__link">
        Configuración OSPFv2 de área única
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/03-ConceptosSeguridadRedes/" class="md-nav__link">
        Conceptos de Seguridad en Redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/04-ACL/" class="md-nav__link">
        ACL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/05-ACLconfiguracionIPv4/" class="md-nav__link">
        ACL para configuración IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/06-NAT-IPv4/" class="md-nav__link">
        NAT para IPv4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/07-conceptosWAN/" class="md-nav__link">
        Conceptos WAN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/08-ConceptosVPNeIPsec/" class="md-nav__link">
        Conceptos de VPN e IPsec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/09-ConceptosQoS/" class="md-nav__link">
        Conceptos de QoS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/10-AdministracionDeRedes/" class="md-nav__link">
        Administración de redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/11-Dise%C3%B1oDeRedes/" class="md-nav__link">
        Diseño de redes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/12-ResolucionDeProblemasDeRed/" class="md-nav__link">
        Resolución de problemas de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ccna/3-Enterprise-Networking-Security-AndAutomation-ENSA/13-VirtualizacionDeRed/" class="md-nav__link">
        Virtualización de Red
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/aws/" class="md-nav__link">
        aws
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Curiosidades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Curiosidades" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Curiosidades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/Eliminar_contrase%C3%B1a_windows/" class="md-nav__link">
        Eliminar contraseña windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/Lanzador_aplicaciones_en_gnome/" class="md-nav__link">
        Lanzador aplicaciones en gnome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/cambiar_color_promp_terminal/" class="md-nav__link">
        Cambiar color promp terminal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/conky/" class="md-nav__link">
        conky
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/openbox/" class="md-nav__link">
        Openbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/qbit/" class="md-nav__link">
        Qbit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../curiosidades/tmux/" class="md-nav__link">
        Tmux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Desatendidas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Desatendidas" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Desatendidas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/" class="md-nav__link">
        Desatendidas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/Instalacion-desatendida-debian/" class="md-nav__link">
        Instalacion desatendida debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/desatendida-windows/" class="md-nav__link">
        Desatendida windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../desatendidas/kikstart/" class="md-nav__link">
        Kikstart
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Generar doc
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Generar doc" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Generar doc
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../generar_doc/docsify/" class="md-nav__link">
        Docsify
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../generar_doc/remark/" class="md-nav__link">
        Remark
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Lenguajes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lenguajes" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Lenguajes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/Fundamentos_php/" class="md-nav__link">
        Fundamentos php
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/Shell/" class="md-nav__link">
        Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3" type="checkbox" id="__nav_10_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_3">
          Python3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python3" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_3">
          <span class="md-nav__icon md-icon"></span>
          Python3
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/Apuntes-Metodos/" class="md-nav__link">
        Métodos de colecciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-Funcionalidades_avanzadas/" class="md-nav__link">
        apuntes Funcionalidades avanzadas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-Herencia/" class="md-nav__link">
        Herencias
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-distribucion/" class="md-nav__link">
        Distribución
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-documentacion/" class="md-nav__link">
        Documentación
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-ficheros/" class="md-nav__link">
        Apuntes ficheros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-modulos/" class="md-nav__link">
        Módulos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-orientado-objetos/" class="md-nav__link">
        Orientado a objetos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-test/" class="md-nav__link">
        Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes-tkinter/" class="md-nav__link">
        Tkinter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/apuntes_bases/" class="md-nav__link">
        Apuntes bases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/argparse/" class="md-nav__link">
        Argparse
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_3_13" type="checkbox" id="__nav_10_3_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_3_13">
          Fundamentos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fundamentos" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_3_13">
          <span class="md-nav__icon md-icon"></span>
          Fundamentos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/excepciones/" class="md-nav__link">
        Las excepciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/funciones/" class="md-nav__link">
        Funciones
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/fundamento/" class="md-nav__link">
        Fundamentos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/manejo_de_datos/" class="md-nav__link">
        Manejo de datos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lenguajes/python3/fundamentos/salida_por_pantalla/" class="md-nav__link">
        Salida por pantalla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Lpi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lpi" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Lpi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_1" type="checkbox" id="__nav_11_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_1">
          101
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="101" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          101
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/101_Arquitectura_del_sistema/" class="md-nav__link">
        101 Arquitectura del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/102_Instalacion_de_Linux_y_gestion_de_paquetes/" class="md-nav__link">
        102 Instalación de Linux y gestión de paquetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/103_Comandos_GNU_y_Linux/" class="md-nav__link">
        103 Comandos GNU y Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/101/104_Dispositivos_sistema_de_archivos_y_estandar_jerarquia_de_archivos/" class="md-nav__link">
        104 Dispositivos, sistema de archivos Linux y el estándar de jerarquia de archivos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2" type="checkbox" id="__nav_11_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2">
          102
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="102" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_2">
          <span class="md-nav__icon md-icon"></span>
          102
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/105.2_Scripting/" class="md-nav__link">
        105.2 Scripting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/105_Shells/" class="md-nav__link">
        105 Shells
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/106_Interfaces_de_usuario_y_escritorio/" class="md-nav__link">
        106 Interfaces de usuario y escritorio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/107_tareas_de_administracion/" class="md-nav__link">
        107 tareas de administración
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/108_Servicios_esenciales_del_sistema/" class="md-nav__link">
        108 Servicios esenciales del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/108_rsyslog_server/" class="md-nav__link">
        rsyslog server central
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/109_Fundamentos_de_red/" class="md-nav__link">
        109 Fundamentos de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/102/110_Seguridad/" class="md-nav__link">
        110 Seguridad
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_3">
          201
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="201" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          201
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/200_Planificaci%C3%B3n_de_la_capacidad/" class="md-nav__link">
        200 Planificación de la capacidad
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/201_Kernel_Linux/" class="md-nav__link">
        201 Kernel Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/202_Arranque_del%20_Sistema/" class="md-nav__link">
        202 Arranque del  Sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/203_sistemas_de_archivos_y_dispositivos/" class="md-nav__link">
        203 sistemas de archivos y dispositivos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/204_Administracion_avanzada_de_dispositivos_de_almacenamiento/" class="md-nav__link">
        204 Administración avanzada de dispositivos de almacenamiento
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/205_configuracion_de_red/" class="md-nav__link">
        205 configuración de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/206_Mantenimiento_del_sistema/" class="md-nav__link">
        206 Mantenimiento del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/201/Exam_201_Detailed_Objectives/" class="md-nav__link">
        Exam 201: Detailed Objectives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_4" type="checkbox" id="__nav_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_4">
          202
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="202" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_4">
          <span class="md-nav__icon md-icon"></span>
          202
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/207_Servidor_de_nombres_de_dominio/" class="md-nav__link">
        207 Servidor de nombres de dominio (DNS)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/208.4_servicios_web_nginx/" class="md-nav__link">
        208 servicios web nginx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/208_servicios_web/" class="md-nav__link">
        208 servicios web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/209_compartir_ficheros/" class="md-nav__link">
        209 compartir ficheros
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/210_gestion_de_clientes_de_red/" class="md-nav__link">
        210 gestión de clientes de red
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/211_Servicios_E-Mail/" class="md-nav__link">
        211 Servicios de E-Mail
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/212_Seguridad_del_sistema/" class="md-nav__link">
        212 Seguridad del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/202/Exam_202_Detailed_Objectives/" class="md-nav__link">
        Exam 202 Detailed Objectives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_5" type="checkbox" id="__nav_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_5">
          303
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="303" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_5">
          <span class="md-nav__icon md-icon"></span>
          303
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/331.3_Encrypted_File_Systems/" class="md-nav__link">
        Topic 331: Cryptography
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/332.3_Resource_Control/" class="md-nav__link">
        Topic 332: Host Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/333.1_Discretionary_Access_Control/" class="md-nav__link">
        333.1 Discretionary Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/333.2_Mandatory_Access_Control/" class="md-nav__link">
        333.2 Mandatory Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/334.3.2_Packet_Filtering/" class="md-nav__link">
        Firewalld
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/334.3_Packet_Filtering/" class="md-nav__link">
        Iptables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/extra/" class="md-nav__link">
        Extra
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/freeIpa/" class="md-nav__link">
        freeIpa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/gpg/" class="md-nav__link">
        GPG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/nose/" class="md-nav__link">
        Nose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/objetivos/" class="md-nav__link">
        Objetivos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/303/pendiente/" class="md-nav__link">
        Pendiente
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_6" type="checkbox" id="__nav_11_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_6">
          304
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="304" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_6">
          <span class="md-nav__icon md-icon"></span>
          304
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/ClusterPacemakerDRBD/" class="md-nav__link">
        Cluster Pacemaker DRBD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Clusterfs/" class="md-nav__link">
        Clusterfs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Haproxy/" class="md-nav__link">
        Haproxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/Montaje%20isard-nas1%20y%20isard-nas2/" class="md-nav__link">
        Montaje isard-nas1 y isard-nas2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/cluster_basico/" class="md-nav__link">
        Cluster en centos con pacemaker/corosync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/clvm_gfs2_en_clusterPacemaker/" class="md-nav__link">
        clvm gfs2 en clusterPacemaker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/304/haproxy_pacemaker/" class="md-nav__link">
        Haproxy pacemaker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_7" type="checkbox" id="__nav_11_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_7">
          305
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="305" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_7">
          <span class="md-nav__icon md-icon"></span>
          305
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.1VirtualizationConceptsandTheory/" class="md-nav__link">
        351.1 Virtualization Concepts and Theory (weight: 6)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.2Xen/" class="md-nav__link">
        351.2 Xen (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.3Qemu/" class="md-nav__link">
        351.3 QEMU (weight: 4)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.4LibvirtVirtualMachineManageme/" class="md-nav__link">
        351.4 Libvirt Virtual Machine Management (weight: 9)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/351.5VirtualMachineDiskImageManagem/" class="md-nav__link">
        351.5 Virtual Machine Disk Image Management (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.1ContainerVirtualizationConcepts/" class="md-nav__link">
        352.1 Container Virtualization Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.3Docker/" class="md-nav__link">
        352.3 Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352.4ContainerOrchestrationPlatforms/" class="md-nav__link">
        352.4ContainerOrchestrationPlatforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/352LXC/" class="md-nav__link">
        352.2 LXC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.1CloudManagementTools/" class="md-nav__link">
        353.1 Cloud Management Tools (weight: 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.2Packer/" class="md-nav__link">
        353.2 Packer (weight: 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.3cloud-init/" class="md-nav__link">
        353.3 cloud-init (weight: 3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lpi/305/353.4Vagrant/" class="md-nav__link">
        353.4 Vagrant (weight: 3)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Seguridad
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Seguridad" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Seguridad
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/Certificados-Digitales/" class="md-nav__link">
        Certificados Digitales
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/Kerberos/" class="md-nav__link">
        Kerberos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/OpenVpn/" class="md-nav__link">
        OpenVpn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/The-crazy-thing/" class="md-nav__link">
        The crazy thing!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/TunelSSH/" class="md-nav__link">
        Tunel SSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/gpg/" class="md-nav__link">
        GPG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/lvm/" class="md-nav__link">
        Lvm logical volum manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/practica-ssl-tls/" class="md-nav__link">
        Practica ssl tls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/raid/" class="md-nav__link">
        Raid
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_10" type="checkbox" id="__nav_12_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_10">
          Backups
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Backups" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_10">
          <span class="md-nav__icon md-icon"></span>
          Backups
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/backups/Borg_basico/" class="md-nav__link">
        Borg básico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/backups/Tar/" class="md-nav__link">
        Tar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/backups/rdiff-backup/" class="md-nav__link">
        rdiff-backup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/backups/rsync/" class="md-nav__link">
        rsync
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_11" type="checkbox" id="__nav_12_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12_11">
          Cortafuegos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cortafuegos" data-md-level="2">
        <label class="md-nav__title" for="__nav_12_11">
          <span class="md-nav__icon md-icon"></span>
          Cortafuegos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../seguridad/cortafuegos/Iptables/" class="md-nav__link">
        Iptables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Sistemas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sistemas" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Sistemas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Actualizar_hora_sys_o_bios/" class="md-nav__link">
        Gestionar Hora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Arranque-del-sistema/" class="md-nav__link">
        Arranque del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Estructura_de_directorios/" class="md-nav__link">
        Estructura de directorios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Logs/" class="md-nav__link">
        Logs del sistema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/Systemd/" class="md-nav__link">
        Systemd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/ZFS/" class="md-nav__link">
        ZFS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/chroot/" class="md-nav__link">
        Chroot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/disco/" class="md-nav__link">
        Disco
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/gestores_de_paquetes/" class="md-nav__link">
        Gestores de paquetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/getenforce/" class="md-nav__link">
        getenforce
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/grub/" class="md-nav__link">
        Grub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/home/" class="md-nav__link">
        Cambiar /home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/ip_est%C3%A1tica/" class="md-nav__link">
        ip estática raspberry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/pam/" class="md-nav__link">
        Pam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/raid/" class="md-nav__link">
        Raid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/xinetd/" class="md-nav__link">
        xinetd
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_17" type="checkbox" id="__nav_13_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13_17">
          Automatizacion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Automatizacion" data-md-level="2">
        <label class="md-nav__title" for="__nav_13_17">
          <span class="md-nav__icon md-icon"></span>
          Automatizacion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/automatizacion/ansible/" class="md-nav__link">
        Ansible
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sistemas/automatizacion/tareas_programadas/" class="md-nav__link">
        Tareas Programadas
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Virtualizacion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virtualizacion" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Virtualizacion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Docker-basico/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Lxc/" class="md-nav__link">
        LXC y LXD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/Vagrant/" class="md-nav__link">
        Vagrant
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/swarm/" class="md-nav__link">
        Swarm
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_6" type="checkbox" id="__nav_14_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14_6">
          Virt manager
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Virt manager" data-md-level="2">
        <label class="md-nav__title" for="__nav_14_6">
          <span class="md-nav__icon md-icon"></span>
          Virt manager
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Backing_chain/" class="md-nav__link">
        Backing_chain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Clonar/" class="md-nav__link">
        Clonar de virtual a físico y de físico a virtual.
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/Instalacion_de_virtualizacion_fedora/" class="md-nav__link">
        Instalación de virtualización fedora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/acceder_consola_desde_virsh/" class="md-nav__link">
        acceder consola desde virsh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/crear_red_aislada/" class="md-nav__link">
        Crear red aislada
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtualizacion/virt-manager/instalar_maquina_virtual_virt-install/" class="md-nav__link">
        virt
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#componentes" class="md-nav__link">
    Componentes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funcionamiento" class="md-nav__link">
    Funcionamiento
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurar-dns" class="md-nav__link">
    Configurar DNS
  </a>
  
    <nav class="md-nav" aria-label="Configurar DNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resolucion-directa-tipo-a-y-mx" class="md-nav__link">
    Resolución directa tipo A y MX
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolucion-inversa-tipo-ptr" class="md-nav__link">
    Resolución inversa tipo PTR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobaciones-dns" class="md-nav__link">
    Comprobaciones DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisitos" class="md-nav__link">
    Prerequisitos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-basica" class="md-nav__link">
    Configuración básica
  </a>
  
    <nav class="md-nav" aria-label="Configuración básica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instalacion-de-postfix" class="md-nav__link">
    Instalación de postfix
  </a>
  
    <nav class="md-nav" aria-label="Instalación de postfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compruebo-funcionamiento-postfix" class="md-nav__link">
    Compruebo funcionamiento postfix
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instalacion-dovecot" class="md-nav__link">
    Instalación Dovecot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-funcionamiento" class="md-nav__link">
    Comprobar funcionamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-cifrada-sasl-tls" class="md-nav__link">
    Configuración cifrada SASL + TLS
  </a>
  
    <nav class="md-nav" aria-label="Configuración cifrada SASL + TLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-llaves" class="md-nav__link">
    generar llaves
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conf-postfix" class="md-nav__link">
    Conf postfix
  </a>
  
    <nav class="md-nav" aria-label="Conf postfix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maincf" class="md-nav__link">
    Main.cf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mastercf" class="md-nav__link">
    Master.cf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conf-dovecot" class="md-nav__link">
    Conf dovecot
  </a>
  
    <nav class="md-nav" aria-label="Conf dovecot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dovecotconf" class="md-nav__link">
    dovecot.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-authconf" class="md-nav__link">
    10-auth.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-mailconf" class="md-nav__link">
    10-mail.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-masterconf" class="md-nav__link">
    10-master.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-sslconf" class="md-nav__link">
    10-ssl.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#20-pop3conf" class="md-nav__link">
    20-pop3.conf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opcional-seguridad" class="md-nav__link">
    Opcional seguridad
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprobar-funcionamiento_1" class="md-nav__link">
    Comprobar funcionamiento
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/jorgepastorr/apuntes/edit/master/docs/administracion/server-correo.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>



<h1 id="servidor-correo">Servidor Correo</h1>
<p>Para crear este servidor de correo estoy utilizando Postfix, Maildir y Dovecot como cliente utilizo Thunderbird. Este servidor se esta configurando en una maquina virtual Debian10 Buster sobre VirtManager con una configuración de red Bridge sobre la targeta del Host.</p>
<div class="highlight"><pre><span></span><code><span class="w">                 </span>+--------+<span class="w">                </span>+--------+
<span class="w">                 </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">        </span><span class="p">|</span>
<span class="w">                 </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">        </span><span class="p">|</span>
<span class="w">  </span>Internet<span class="w">       </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">        </span><span class="p">|</span>
<span class="w">   </span>+-----------&gt;<span class="w"> </span><span class="p">|</span><span class="w">  </span>MTA<span class="w">   </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">  </span>MTA<span class="w">   </span><span class="p">|</span><span class="w">          </span>Servidor
<span class="w">   </span><span class="p">|</span><span class="w">             </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">          </span>pop3/imap
<span class="w">   </span><span class="p">|</span><span class="w">             </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">     </span>Internet<span class="w">   </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">          </span>+------+
<span class="w">   </span><span class="p">|</span><span class="w">             </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">  </span>+-----------&gt;<span class="w"> </span><span class="p">|</span><span class="w">        </span>+-------&gt;<span class="w">  </span><span class="p">|</span><span class="w"> </span>MDA<span class="w">  </span><span class="p">|</span>
+--+-+<span class="w">           </span>+--------+<span class="w">                </span>+--------+<span class="w">          </span>+---+--+<span class="w">     </span>+----+
<span class="p">|</span><span class="w">    </span><span class="p">|</span><span class="w">          </span>Servidor<span class="w"> </span>MTP<span class="w">               </span>Servidor<span class="w"> </span>MTP<span class="w">            </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">    </span><span class="p">|</span>
<span class="p">|</span><span class="w">    </span><span class="p">|</span><span class="w">                                                             </span><span class="p">|</span><span class="w">        </span><span class="p">|</span>MUA<span class="w"> </span><span class="p">|</span>
<span class="p">|</span>MUA<span class="w"> </span><span class="p">|</span><span class="w">                                                             </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">    </span><span class="p">|</span>
+----+<span class="w">                                                             </span>+----&gt;<span class="w">   </span>+----+

<span class="w"> </span>Cliente<span class="w"> </span>correo<span class="w">                                                          </span>Cliente<span class="w"> </span>correo
<span class="w"> </span>electronico<span class="w">                                                             </span>electronico
</code></pre></div>
<h2 id="componentes">Componentes</h2>
<p>MUA ( Mail User Agent ) Thunderbird</p>
<p>MTA ( Mail transfer agent ) Postfix</p>
<ul>
<li>postfix transfire correo desde un servidor a otro mediante SMTP</li>
</ul>
<p>MDA ( Mail Delivery Agent ) Devecot</p>
<ul>
<li>Devocot reparte los correos de tu servidor a los usuarios a traves de un cliente en este caso thunderbird</li>
</ul>
<p>POP3/IMAP protocolos de acceso al buzon de correo</p>
<ul>
<li>
<p>IMAP accede remotamente al buzon del servidor de correo electronico para leer la correspondencia remotamente</p>
</li>
<li>
<p>POP3 descarga el buzon de correo del servidor, para posteriormente leer el correo de forma local</p>
</li>
</ul>
<h2 id="funcionamiento">Funcionamiento</h2>
<p>Para enviar un correo se utilizax  un MUA que lo transfirere a un servidor MTA con el protocolo SMTP</p>
<p>El MTA recibe el correo y lo envia al MTA del destinatario utilizando SMTP</p>
<p>El MTA destinatario almacena el correo en el buzon correspondiente, funcion que en algunos casos realiza un programa especifico denominado MDA</p>
<p>El mensage permanece en el buzon hasta que el destinatario utiliza su MUA para acceder al buzon mediante los protocolos POP o IMAP</p>
<h2 id="configurar-dns">Configurar DNS</h2>
<p>Es necesario configurar un DNS para poder resolver las peticiones de  correo en este documento el servidor de correo se encuentra en <code>192.168.88.13</code> y el dns en <code>192.168.88.4</code> donde la LAN es <code>192.168.88.0/24</code>. </p>
<p>A la hora de instalar nuestro servidor de correo, tendremos que crear los siguientes registros en el DNS:</p>
<ul>
<li>Un registro de tipo A que apunte a la dirección del servidor de correo.</li>
<li>Un registro de tipo PTR, para que funcione la resolución inversa  (necesaria por algunos sistemas para controlar el envío de SPAM por  servidores SMTP.</li>
<li>Un registro de tipo MX con la prioridad que deseemos, y que apunte al equipo servidor de correo de nuestro dominio.</li>
</ul>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/bind/named.conf.local<span class="w"> </span>
...
<span class="c1"># especificacion de zonas</span>

zone<span class="w"> </span><span class="s2">&quot;mymail.com&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">type</span><span class="w"> </span>master<span class="p">;</span>
<span class="w">    </span>file<span class="w"> </span><span class="s2">&quot;db.mymail.com&quot;</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>

zone<span class="w"> </span><span class="s2">&quot;88.168.192.in-addr.arpa&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">type</span><span class="w"> </span>master<span class="p">;</span>
<span class="w">    </span>file<span class="w"> </span><span class="s2">&quot;db.rev.mymail.com&quot;</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
</code></pre></div>
<h3 id="resolucion-directa-tipo-a-y-mx">Resolución directa tipo A y MX</h3>
<div class="highlight"><pre><span></span><code>cat<span class="w">  </span>/var/cache/bind/db.mymail.com
<span class="nv">$TTL</span><span class="w">    </span><span class="m">3600</span>
@<span class="w">       </span>IN<span class="w">      </span>SOA<span class="w">     </span>server.myail.com.<span class="w"> </span>root.mymail.com.<span class="w"> </span><span class="o">(</span>
<span class="w">                   </span><span class="m">2020122001</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Serial
<span class="w">                         </span><span class="m">3600</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Refresh<span class="w"> </span><span class="o">[</span>1h<span class="o">]</span>
<span class="w">                          </span><span class="m">600</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Retry<span class="w">   </span><span class="o">[</span>10m<span class="o">]</span>
<span class="w">                        </span><span class="m">86400</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Expire<span class="w">  </span><span class="o">[</span>1d<span class="o">]</span>
<span class="w">                          </span><span class="m">600</span><span class="w"> </span><span class="o">)</span><span class="w">         </span><span class="p">;</span><span class="w"> </span>Negative<span class="w"> </span>Cache<span class="w"> </span>TTL<span class="w"> </span><span class="o">[</span>1h<span class="o">]</span>
<span class="p">;</span>
@<span class="w">       </span>IN<span class="w">      </span>NS<span class="w">      </span>server.mymail.com.
mymail.com.<span class="w">      </span>IN<span class="w">      </span>MX<span class="w">      </span><span class="m">10</span><span class="w"> </span>correo

server<span class="w">      </span>IN<span class="w">      </span>A<span class="w">       </span><span class="m">192</span>.168.88.4
torre<span class="w">       </span>IN<span class="w">      </span>A<span class="w">       </span><span class="m">192</span>.168.88.2
portatil<span class="w">    </span>IN<span class="w">      </span>A<span class="w">       </span><span class="m">192</span>.168.88.3
correo<span class="w">      </span>IN<span class="w">      </span>A<span class="w">       </span><span class="m">192</span>.168.88.13
</code></pre></div>
<h3 id="resolucion-inversa-tipo-ptr">Resolución inversa tipo PTR</h3>
<div class="highlight"><pre><span></span><code>cat<span class="w">  </span>/var/cache/bind/db.rev.mymail.com
<span class="nv">$TTL</span><span class="w">    </span><span class="m">3600</span>
@<span class="w">       </span>IN<span class="w">      </span>SOA<span class="w">     </span>server.mymail.com.<span class="w"> </span>root.mymail.com.<span class="w"> </span><span class="o">(</span>
<span class="w">                   </span><span class="m">2020122001</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Serial
<span class="w">                         </span><span class="m">3600</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Refresh<span class="w"> </span><span class="o">[</span>1h<span class="o">]</span>
<span class="w">                          </span><span class="m">600</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Retry<span class="w">   </span><span class="o">[</span>10m<span class="o">]</span>
<span class="w">                        </span><span class="m">86400</span><span class="w">           </span><span class="p">;</span><span class="w"> </span>Expire<span class="w">  </span><span class="o">[</span>1d<span class="o">]</span>
<span class="w">                          </span><span class="m">600</span><span class="w"> </span><span class="o">)</span><span class="w">         </span><span class="p">;</span><span class="w"> </span>Negative<span class="w"> </span>Cache<span class="w"> </span>TTL<span class="w"> </span><span class="o">[</span>1h<span class="o">]</span>
<span class="p">;</span>
<span class="w">    </span>IN<span class="w">      </span>NS<span class="w">      </span>server.mymail.com.

<span class="m">4</span><span class="w">   </span>IN<span class="w">      </span>PTR<span class="w">       </span>server.mymail.com.
<span class="m">3</span><span class="w">   </span>IN<span class="w">      </span>PTR<span class="w">       </span>portatil.mymail.com.
<span class="m">2</span><span class="w">   </span>IN<span class="w">      </span>PTR<span class="w">       </span>torre.mymail.com.
<span class="m">13</span><span class="w">  </span>IN<span class="w">      </span>PTR<span class="w">       </span>correo.mymail.com.
</code></pre></div>
<h3 id="comprobaciones-dns">Comprobaciones DNS</h3>
<p>Comprobar que la sintaxis es correcta</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>named-checkzone<span class="w"> </span><span class="m">88</span>.168.192.in-addr.arpa<span class="w"> </span>/var/cache/bind/db.rev.mymail.com<span class="w"> </span>
zone<span class="w"> </span><span class="m">88</span>.168.192.in-addr.arpa/IN:<span class="w"> </span>loaded<span class="w"> </span>serial<span class="w"> </span><span class="m">2020122001</span>
OK

sudo<span class="w"> </span>named-checkzone<span class="w"> </span>mymail.com<span class="w"> </span>/var/cache/bind/db.mymail.com<span class="w"> </span>
zone<span class="w"> </span>mymail.com/IN:<span class="w"> </span>loaded<span class="w"> </span>serial<span class="w"> </span><span class="m">2020122001</span>
OK
</code></pre></div>
<p>Comprobar la resolución de dominio</p>
<div class="highlight"><pre><span></span><code>nslookup<span class="w"> </span>correo.mymail.com
Server:<span class="w">     </span><span class="m">192</span>.168.88.4
Address:<span class="w">    </span><span class="m">192</span>.168.88.4#53

Name:<span class="w">   </span>correo.mymail.com
Address:<span class="w"> </span><span class="m">192</span>.168.88.13

nslookup<span class="w"> </span><span class="m">192</span>.168.88.13
<span class="m">13</span>.88.168.192.in-addr.arpa<span class="w">  </span><span class="nv">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>correo.mymail.com.
</code></pre></div>
<h2 id="prerequisitos">Prerequisitos</h2>
<p>Añadir ip estatica al servidor de correo e indicar donde esta el DNS</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/network/interfaces
<span class="c1"># This file describes the network interfaces available on your system</span>
<span class="c1"># and how to activate them. For more information, see interfaces(5).</span>

<span class="nb">source</span><span class="w"> </span>/etc/network/interfaces.d/*

<span class="c1"># The loopback network interface</span>
auto<span class="w"> </span>lo
iface<span class="w"> </span>lo<span class="w"> </span>inet<span class="w"> </span>loopback

auto<span class="w"> </span>enp1s0
iface<span class="w"> </span>enp1s0<span class="w"> </span>inet<span class="w"> </span>static<span class="w"> </span>
<span class="w">    </span>address<span class="w"> </span><span class="m">192</span>.168.88.13
<span class="w">    </span>netmask<span class="w"> </span><span class="m">255</span>.255.255.0
<span class="w">    </span>gateway<span class="w"> </span><span class="m">192</span>.168.88.1
</code></pre></div>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/resolv.conf<span class="w"> </span>
search<span class="w"> </span>mymail.com
nameserver<span class="w"> </span><span class="m">192</span>.168.88.4
</code></pre></div>
<p>Las <strong>cuentas de usuario</strong> de correo, realmente  son usuarios creados en el servidor de correo, asi que creo un par de usuarios para pruebas.</p>
<div class="highlight"><pre><span></span><code>root@debmail:~#<span class="w"> </span>useradd<span class="w"> </span>compras<span class="w"> </span>-m
root@debmail:~#<span class="w"> </span>useradd<span class="w"> </span>ventas<span class="w"> </span>-m
root@debmail:~#<span class="w"> </span>passwd<span class="w"> </span>compras
New<span class="w"> </span>password:<span class="w"> </span>
Retype<span class="w"> </span>new<span class="w"> </span>password:<span class="w"> </span>
passwd:<span class="w"> </span>password<span class="w"> </span>updated<span class="w"> </span>successfully
root@debmail:~#<span class="w"> </span>passwd<span class="w"> </span>ventas
New<span class="w"> </span>password:<span class="w"> </span>
Retype<span class="w"> </span>new<span class="w"> </span>password:<span class="w"> </span>
passwd:<span class="w"> </span>password<span class="w"> </span>updated<span class="w"> </span>successfully
</code></pre></div>
<p>Acceso puertos al firewall</p>
<p>smtp 25</p>
<p>imap 143</p>
<p>imaps 993</p>
<p>smtps 465</p>
<p>submission 587</p>
<p>pop3 110</p>
<p>syslog-ng</p>
<h2 id="configuracion-basica">Configuración básica</h2>
<p>Esta configuración aportara un servidor de correo inseguro donde las contraseñas biajaran en texto plano, no se debe utilizar nunca este tipo de  configuración a no ser vque sea exclusivo para pruebas y entendimiento.</p>
<h3 id="instalacion-de-postfix">Instalación de postfix</h3>
<p>En la instalación de postfix pide indicar que tipo de servicio quieres configurar y el dominio: </p>
<ul>
<li>
<p><code>sitio de interner, servidor local...</code> en este caso indicamos sitio de internet, porque quiero que se comunique con otros mx. </p>
</li>
<li>
<p>Si queremos que nuestras direcciones sean <code>example@mymail.com</code>  deberemos indicar <code>mymail.com</code></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>postfix
sudo<span class="w"> </span>postconf<span class="w"> </span>mail_version
<span class="nv">mail_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>.4.14
</code></pre></div>
<p>De momento nos aseguramos de algunos parametros de la  configuración</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/etc/postfix/main.cf
...
<span class="c1"># my dominio completo</span>
<span class="nv">myhostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>correo.mymail.com
<span class="nv">alias_maps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases
<span class="nv">alias_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases

<span class="c1"># my origin a de tener my dominio</span>
<span class="nv">myorigin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/mailname

<span class="c1"># my destination añadir dominio mymail.com en mi caso</span>
<span class="nv">mydestination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$myhostname</span>,<span class="w"> </span>mymail.com,<span class="w"> </span>localhost,<span class="w"> </span>localhost.localdomain,<span class="w"> </span>locall
host
<span class="nv">relayhost</span><span class="w"> </span><span class="o">=</span>

<span class="c1"># añado la red local en la que va a trabajar</span>
<span class="nv">mynetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">192</span>.168.88.0/24<span class="w"> </span><span class="m">127</span>.0.0.0/8<span class="w"> </span><span class="o">[</span>::ffff:127.0.0.0<span class="o">]</span>/104<span class="w"> </span><span class="o">[</span>::1<span class="o">]</span>/128
<span class="nv">mailbox_size_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="nv">recipient_delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>+

<span class="c1"># me aseguro que trabaje en todas las interfaces y protocolos</span>
<span class="nv">inet_interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all
<span class="nv">inet_protocols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all

<span class="c1"># añado maildir como lugar donde se guardaran los correos</span>
<span class="nv">home_mailbox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Maildir/
</code></pre></div>
<blockquote>
<p><strong>Nota</strong>: La instrucción <code>home_mailbox = Maildir/</code>  cambia el lugar donde se almacenan los correos, por defecto es <code>/var/mail</code> y con maildir se almacena en el home de cada usuaro en el directorio <code>~/Maildir</code></p>
<p>Esta instrucción hace un poco mas eficiente el servicio.</p>
</blockquote>
<p>Me aseguro que el archivo mailname este mi dominio</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/mailname<span class="w"> </span>
mymail.com
</code></pre></div>
<p>Recargo configuración con los nuevos cambios y visualizo que esten en orden</p>
<div class="highlight"><pre><span></span><code>root@debmail:~#<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>postfix
root@debmail:~#<span class="w"> </span>postconf<span class="w"> </span>-n

<span class="nv">alias_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases
<span class="nv">alias_maps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases
<span class="nv">append_dot_mydomain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no
<span class="nv">biff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no
<span class="nv">compatibility_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>
<span class="nv">home_mailbox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Maildir/
<span class="nv">inet_interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all
<span class="nv">inet_protocols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all
<span class="nv">mailbox_size_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="nv">mydestination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$myhostname</span>,<span class="w"> </span>mymail.com,<span class="w"> </span>localhost,<span class="w"> </span>localhost.localdomain,<span class="w"> </span>localhost
<span class="nv">myhostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>correo.mymail.com
<span class="nv">mynetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">192</span>.168.88.0/24<span class="w"> </span><span class="m">127</span>.0.0.0/8<span class="w"> </span><span class="o">[</span>::ffff:127.0.0.0<span class="o">]</span>/104<span class="w"> </span><span class="o">[</span>::1<span class="o">]</span>/128
<span class="nv">myorigin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/mailname
<span class="nv">readme_directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no
<span class="nv">recipient_delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>+
<span class="nv">relayhost</span><span class="w"> </span><span class="o">=</span>
<span class="nv">smtp_tls_session_cache_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>btree:<span class="si">${</span><span class="nv">data_directory</span><span class="si">}</span>/smtp_scache
<span class="nv">smtpd_banner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$myhostname</span><span class="w"> </span>ESMTP<span class="w"> </span><span class="nv">$mail_name</span><span class="w"> </span><span class="o">(</span>Debian/GNU<span class="o">)</span>
<span class="nv">smtpd_relay_restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>permit_mynetworks<span class="w"> </span>permit_sasl_authenticated<span class="w"> </span>defer_unauth_destination
<span class="nv">smtpd_tls_cert_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/ssl/certs/ssl-cert-snakeoil.pem
<span class="nv">smtpd_tls_key_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/ssl/private/ssl-cert-snakeoil.key
<span class="nv">smtpd_tls_session_cache_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>btree:<span class="si">${</span><span class="nv">data_directory</span><span class="si">}</span>/smtpd_scache
<span class="nv">smtpd_use_tls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
</code></pre></div>
<h4 id="compruebo-funcionamiento-postfix">Compruebo funcionamiento postfix</h4>
<p>Primero compruebo que el puerto de smtp(25) este activo, y que desde otro host pueda  aceder por el mismo.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># compruebo con netstat puerto abierto</span>
root@debmail:~#<span class="w"> </span>netstat<span class="w"> </span>-nlpt4
Active<span class="w"> </span>Internet<span class="w"> </span>connections<span class="w"> </span><span class="o">(</span>only<span class="w"> </span>servers<span class="o">)</span>
Proto<span class="w"> </span>Recv-Q<span class="w"> </span>Send-Q<span class="w"> </span>Local<span class="w"> </span>Address<span class="w">           </span>Foreign<span class="w"> </span>Address<span class="w">         </span>State<span class="w">       </span>PID/Program<span class="w"> </span>name<span class="w">             </span>
tcp<span class="w">        </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>.0.0.0:25<span class="w">              </span><span class="m">0</span>.0.0.0:*<span class="w">               </span>LISTEN<span class="w">      </span><span class="m">10270</span>/master<span class="w">        </span>

<span class="c1"># establezco una conexión desde otro host al server</span>
pi@raspberrypi:~<span class="w"> </span>$<span class="w"> </span>nc<span class="w"> </span>-zv<span class="w"> </span><span class="m">192</span>.168.88.13<span class="w"> </span><span class="m">25</span>
Connection<span class="w"> </span>to<span class="w"> </span><span class="m">192</span>.168.88.13<span class="w"> </span><span class="m">25</span><span class="w"> </span>port<span class="w"> </span><span class="o">[</span>tcp/smtp<span class="o">]</span><span class="w"> </span>succeeded!
</code></pre></div>
<p>Ahora compruebo que puedo enviar mensajes y recibirlos. </p>
<p>Instalo <code>mailutils</code> para poder mandar mails desde consola con <code>sendmail</code> </p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mailutils

<span class="c1"># mando un mail simple desde root al usuario compras</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Subject: Correo Maildir 1&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sendmail<span class="w"> </span>compras@mymail.com

<span class="c1"># los mails se almacenan en:</span>
ls<span class="w"> </span>/home/compras/Maildir/
cur<span class="w">  </span>new<span class="w">  </span>tmp

<span class="c1"># compruebo la llegada del mail al usuario compras</span>
cat<span class="w"> </span>/home/compras/Maildir/new/1609175551.Vfe01I20cc3M685651.debmail<span class="w"> </span>
Return-Path:<span class="w"> </span>&lt;root@mymail.com&gt;
X-Original-To:<span class="w"> </span>compras@mymail.com
Delivered-To:<span class="w"> </span>compras@mymail.com
Received:<span class="w"> </span>by<span class="w"> </span>correo.mymail.com<span class="w"> </span><span class="o">(</span>Postfix,<span class="w"> </span>from<span class="w"> </span>userid<span class="w"> </span><span class="m">0</span><span class="o">)</span>
<span class="w">        </span>id<span class="w"> </span>5B0B020CC1<span class="p">;</span><span class="w"> </span>Mon,<span class="w"> </span><span class="m">28</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">12</span>:12:31<span class="w"> </span>-0500<span class="w"> </span><span class="o">(</span>EST<span class="o">)</span>
Subject:<span class="w"> </span>Correo<span class="w"> </span>Maildir<span class="w"> </span><span class="m">1</span>
Message-Id:<span class="w"> </span>&lt;<span class="m">20201228171231</span>.5B0B020CC1@correo.mymail.com&gt;
Date:<span class="w"> </span>Mon,<span class="w"> </span><span class="m">28</span><span class="w"> </span>Dec<span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">12</span>:12:31<span class="w"> </span>-0500<span class="w"> </span><span class="o">(</span>EST<span class="o">)</span>
From:<span class="w"> </span>root<span class="w"> </span>&lt;root@mymail.com&gt;
</code></pre></div>
<p>En este punto podemos mandar mails desde terminal.</p>
<h3 id="instalacion-dovecot">Instalación Dovecot</h3>
<p>Instalamos Dovecot para que haga de MUA y acceder desde un cliente tipo thunderbird, etc...</p>
<div class="highlight"><pre><span></span><code>apt<span class="w"> </span>install<span class="w"> </span>dovecot-core<span class="w"> </span>dovecot-imapd<span class="w"> </span>dovecot-pop3d
</code></pre></div>
<p>En la configuración de autentificación, estamos configurando un server básico e inseguro solo para pruebas, así que habilitamos el texto plano en la autenticación.</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/etc/dovecot/conf.d/10-auth.conf<span class="w">           </span>

<span class="c1"># habilitamos el texto plano ( es muy inseguro !!!)</span>
<span class="nv">disable_plaintext_auth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no

<span class="c1"># Este formato recoge el usuario de user@dominio.com</span>
<span class="nv">auth_username_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>%Ln
</code></pre></div>
<p>Indicamos donde guardar la correspondencia, ya que por defecto utiliza mbox.</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/etc/dovecot/conf.d/10-mail.conf<span class="w">     </span>

<span class="c1"># directorio donde guardar la correspondencia</span>
<span class="nv">mail_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>maildir:~/Maildir
<span class="c1">#   mail_location = mbox:~/mail:INBOX=/var/mail/%u</span>
<span class="c1">#   mail_location = mbox:/var/mail/%d/%1n/%n:INDEX=/var/indexes/%d/%1n/%n</span>
<span class="c1">#mail_location = mbox:~/mail:INBOX=/var/mail/%u</span>

<span class="c1"># dar acceso al grupo mail, para las cuentas recien creadas.</span>
<span class="nv">mail_access_groups</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>mail
</code></pre></div>
<p>Para que clientesvcomo outlook o thunderbird funcionen bien con pop3 necesita descomentar el formato indicado</p>
<div class="highlight"><pre><span></span><code>vim<span class="w"> </span>/etc/dovecot/conf.d/20-pop3.conf
<span class="nv">pop3_uidl_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>%08Xu%08Xv
</code></pre></div>
<p>Reiniciar servicio</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>reload<span class="w"> </span>dovecot
</code></pre></div>
<h3 id="comprobar-funcionamiento">Comprobar funcionamiento</h3>
<p>Para comprobar el servicio se tiene que instalar thunderbird y acceder al correo desde el cliente de momento no hay certificados  y la conexión es muy insegura pero el funcionamiento se puede probar.</p>
<h2 id="configuracion-cifrada-sasl-tls">Configuración cifrada SASL + TLS</h2>
<p>La configuración <strong>SASL</strong> + <strong>TLS</strong> (Simple  Authentication Security Layer with Transport Layer Security), se utiliza principalmente para autenticar a los usuarios, antes de que envíen  correo a un servidor externo. SASL maneja la autenticación y TLS se encarga de cifrar el contnido del mensaje.</p>
<h3 id="generar-llaves">generar llaves</h3>
<p>Si tubieramos un dominio público se podria generar unos certificados con LetsEncrypt o similar, pero al ser un entorno de pruebas nos gisamos nuestros propios certificados.</p>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>genrsa<span class="w"> </span>-des3<span class="w"> </span>-out<span class="w"> </span>mymail.key<span class="w"> </span><span class="m">2048</span>

openssl<span class="w"> </span>req<span class="w"> </span>-new<span class="w"> </span>-key<span class="w"> </span>mymail.key<span class="w"> </span>-out<span class="w"> </span>mymail.csr
Enter<span class="w"> </span>pass<span class="w"> </span>phrase<span class="w"> </span><span class="k">for</span><span class="w"> </span>mymail.key:
Organizational<span class="w"> </span>Unit<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>eg,<span class="w"> </span>section<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:mymail
Common<span class="w"> </span>Name<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>server<span class="w"> </span>FQDN<span class="w"> </span>or<span class="w"> </span>YOUR<span class="w"> </span>name<span class="o">)</span><span class="w"> </span><span class="o">[]</span>:*.mymail.com
Email<span class="w"> </span>Address<span class="w"> </span><span class="o">[]</span>:webadmin@mymail.com

openssl<span class="w"> </span>x509<span class="w"> </span>-req<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span><span class="w"> </span>-in<span class="w"> </span>mymail.csr<span class="w"> </span>-signkey<span class="w"> </span>mymail.key<span class="w"> </span>-out<span class="w"> </span>mymail.crt

openssl<span class="w"> </span>rsa<span class="w"> </span>-in<span class="w"> </span>mymail.key<span class="w"> </span>-out<span class="w"> </span>mymail.key,nopass
mv<span class="w"> </span>mymail.key,nopass<span class="w"> </span>mymail.key

openssl<span class="w"> </span>req<span class="w">  </span>-new<span class="w"> </span>-x509<span class="w"> </span>-extensions<span class="w"> </span>v3_ca<span class="w"> </span>-keyout<span class="w"> </span>cakey.pem<span class="w"> </span>-out<span class="w"> </span>cacert.pem<span class="w"> </span>-days<span class="w"> </span><span class="m">365</span>

<span class="c1"># una vez creados los movemos al directorio de ssl</span>
mv<span class="w"> </span>mymail.key<span class="w"> </span>/etc/ssl/private/
mv<span class="w"> </span>cakey.pem<span class="w"> </span>/etc/ssl/private/
mv<span class="w"> </span>mymail.crt<span class="w"> </span>/etc/ssl/certs/
mv<span class="w"> </span>cacrt.pem<span class="w"> </span>/etc/ssl/certs/
</code></pre></div>
<h3 id="conf-postfix">Conf postfix</h3>
<p>Respecto a la configuración de postfix anterior añadimos nuevos parametros para activar el sasl y el tls.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># usar certificados propios ---------------------</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_key_file = /etc/ssl/private/mymail.key&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_cert_file = /etc/ssl/certs/mymail.crt&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_CAfile = /etc/ssl/certs/cacrt.pem&#39;</span>

<span class="c1"># opciones de autenticación sasl -------------------</span>

sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_auth_enable = yes&#39;</span>
<span class="c1"># comunicacion con dovecot</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_type = dovecot&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_path = private/auth&#39;</span>
<span class="c1"># no añadir dominio en la autenticacion del user</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_local_domain =&#39;</span>
<span class="c1"># no permitir usuarios desconocidos ni contraseñas en texto plano</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_security_options = noplaintext,noanonymous&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_sasl_tls_security_options = $smtpd_sasl_security_options&#39;</span>
<span class="c1"># añade un separador especifico para los clientes Outlook</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;broken_sasl_auth_clients = yes&#39;</span>


sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination&#39;</span>

<span class="c1"># configuración tls ------------------------</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_use_tls = yes&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtp_use_tls = yes&#39;</span>
<span class="c1"># solo admitir comunicación por tls</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_auth_only = no&#39;</span>
<span class="c1"># nivel de log </span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_loglevel = 1&#39;</span>
<span class="c1"># incluir informacion de protocolo y nombre comun del cliente en el encabezado</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_received_header = yes&#39;</span>
<span class="c1"># por defecto la cache es de 300s aumentar a 1h</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_tls_session_cache_timeout = 3600s&#39;</span>
</code></pre></div>
<p>Ademas hay que modificar manualmente el archivo master.cf</p>
<h4 id="maincf">Main.cf</h4>
<p>Ejemplo de archivo main.cf</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>/etc/postfix/main.cf

<span class="c1">#myorigin = /etc/mailname</span>
<span class="nv">smtpd_banner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$myhostname</span><span class="w"> </span>ESMTP<span class="w"> </span><span class="nv">$mail_name</span><span class="w"> </span><span class="o">(</span>Debian/GNU<span class="o">)</span>
<span class="nv">biff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no
<span class="c1"># appending .domain is the MUA&#39;s job.</span>
<span class="nv">append_dot_mydomain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no

<span class="c1"># Uncomment the next line to generate &quot;delayed mail&quot; warnings</span>
<span class="c1">#delay_warning_time = 4h</span>

<span class="nv">readme_directory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no

<span class="c1"># See http://www.postfix.org/COMPATIBILITY_README.html -- default to 2 on</span>
<span class="c1"># fresh installs.</span>
<span class="nv">compatibility_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>

<span class="c1"># TLS parameters</span>
<span class="nv">smtpd_tls_auth_only</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>no
<span class="nv">smtpd_use_tls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">smtp_use_tls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">smtp_tls_note_starttls_offer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">smtpd_tls_key_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/ssl/private/mymail.key
<span class="nv">smtpd_tls_cert_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/ssl/certs/mymail.crt
<span class="nv">smtpd_tls_CAfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/ssl/certs/cacrt.pem
<span class="nv">smtpd_tls_loglevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>

<span class="nv">smtpd_tls_received_header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">smtpd_tls_session_cache_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>3600s
<span class="nv">smtpd_tls_session_cache_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>btree:<span class="si">${</span><span class="nv">data_directory</span><span class="si">}</span>/smtpd_scache
<span class="nv">smtp_tls_session_cache_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>btree:<span class="si">${</span><span class="nv">data_directory</span><span class="si">}</span>/smtp_scache

<span class="c1"># See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for</span>
<span class="c1"># information on enabling SSL in the smtp client.</span>

<span class="nv">smtpd_relay_restrictions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>permit_mynetworks<span class="w"> </span>permit_sasl_authenticated<span class="w"> </span>defer_unauth_destination
<span class="nv">myhostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>correo.mymail.com
<span class="nv">alias_maps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases
<span class="nv">alias_database</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hash:/etc/aliases
<span class="nv">myorigin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>/etc/mailname
<span class="nv">mydestination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$myhostname</span>,<span class="w"> </span>mymail.com,<span class="w"> </span>localhost,<span class="w"> </span>localhost.localdomain,<span class="w"> </span>localhost
<span class="nv">relayhost</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="nv">mynetworks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">192</span>.168.88.0/24<span class="w"> </span><span class="m">127</span>.0.0.0/8<span class="w"> </span><span class="o">[</span>::ffff:127.0.0.0<span class="o">]</span>/104<span class="w"> </span><span class="o">[</span>::1<span class="o">]</span>/128
<span class="nv">mailbox_size_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="nv">recipient_delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>+
<span class="nv">inet_interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all
<span class="nv">inet_protocols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>all

<span class="nv">home_mailbox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>Maildir/
<span class="nv">mailbox_command</span><span class="w"> </span><span class="o">=</span>

<span class="c1"># SASL parameters</span>

<span class="nv">smtpd_sasl_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>dovecot
<span class="nv">smtpd_sasl_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>private/auth
<span class="nv">smtpd_sasl_auth_enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">smtpd_sasl_tls_security_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$smtpd_sasl_security_options</span>
<span class="nv">smtpd_sasl_security_options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>noanonymous
<span class="nv">smtpd_recipient_restrictions</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span>permit_mynetworks
<span class="w">        </span>permit_sasl_authenticated
<span class="w">        </span>reject_unauth_destination
</code></pre></div>
<h4 id="mastercf">Master.cf</h4>
<div class="highlight"><pre><span></span><code>master.cf

submission<span class="w"> </span>inet<span class="w"> </span>n<span class="w">       </span>-<span class="w">       </span>y<span class="w">       </span>-<span class="w">       </span>-<span class="w">       </span>smtpd
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_tls_security_level</span><span class="o">=</span>encrypt
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_auth_enable</span><span class="o">=</span>yes
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_type</span><span class="o">=</span>dovecot
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_path</span><span class="o">=</span>private/auth
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_security_options</span><span class="o">=</span>noanonymous
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_local_domain</span><span class="o">=</span>mymail.com
<span class="c1">#  -o smtpd_client_restrictions=permit_sasl_authenticated,reject</span>
<span class="c1">#  -o smtpd_sender_login_maps=hash:/etc/postfix/virtual</span>
<span class="c1">#  -o smtpd_sender_restrictions=reject_sender_login_mismatch</span>
<span class="c1">#  -o smtpd_recipient_restrictions=reject_non_fqdn_recipient,reject_unknown_recipient_domain,permit_sasl_authenticated,reject</span>

smtps<span class="w">     </span>inet<span class="w">  </span>n<span class="w">       </span>-<span class="w">       </span>y<span class="w">       </span>-<span class="w">       </span>-<span class="w">       </span>smtpd
<span class="w">  </span>-o<span class="w"> </span><span class="nv">syslog_name</span><span class="o">=</span>postfix/smtps
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_tls_wrappermode</span><span class="o">=</span>yes
<span class="w">  </span>-o<span class="w"> </span><span class="nv">smtpd_sasl_auth_enable</span><span class="o">=</span>yes
</code></pre></div>
<h3 id="conf-dovecot">Conf dovecot</h3>
<p>Sección modificada de archivos de configuración dovecot.</p>
<h4 id="dovecotconf">dovecot.conf</h4>
<div class="highlight"><pre><span></span><code>...
<span class="c1"># A comma separated list of IPs or hosts where to listen in for connections. </span>
<span class="c1"># &quot;*&quot; listens in all IPv4 interfaces, &quot;::&quot; listens in all IPv6 interfaces.</span>
<span class="c1"># If you want to specify non-default ports or anything more complex,</span>
<span class="c1"># edit conf.d/master.conf.</span>
<span class="nv">listen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>*,<span class="w"> </span>::

<span class="c1"># extender logs para depurar errores ( opcional )</span>
<span class="nv">auth_verbose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
<span class="nv">mail_debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes
...
</code></pre></div>
<h4 id="10-authconf">10-auth.conf</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># desabilitar autentificación en texto plano</span>
<span class="nv">disable_plaintext_auth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes

<span class="c1"># %n eliminar dominio en la autenticación, %Lu minimizar las mayusculas</span>
<span class="nv">auth_username_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>%Lu<span class="w"> </span>%n

<span class="c1"># Space separated list of wanted authentication mechanisms:</span>
<span class="c1">#   plain login digest-md5 cram-md5 ntlm rpa apop anonymous gssapi otp skey</span>
<span class="c1">#   gss-spnego</span>
<span class="c1"># NOTE: See also disable_plaintext_auth setting.</span>
<span class="nv">auth_mechanisms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>plain<span class="w"> </span>login
</code></pre></div>
<h4 id="10-mailconf">10-mail.conf</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># utilizar Maildir como buzon</span>
<span class="nv">mail_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>maildir:~/Maildir
<span class="c1">#mail_location = mbox:~/mail:INBOX=/var/mail/%u</span>


<span class="nv">mail_privileged_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>mail
</code></pre></div>
<h4 id="10-masterconf">10-master.conf</h4>
<div class="highlight"><pre><span></span><code>...
service<span class="w"> </span>imap-login<span class="w"> </span><span class="o">{</span>
<span class="w">  </span>inet_listener<span class="w"> </span>imap<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">143</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">   </span>...
<span class="w"> </span><span class="o">}</span>
<span class="w"> </span>...
<span class="w"> </span>service<span class="w"> </span>pop3-login<span class="w"> </span><span class="o">{</span>
<span class="w">  </span>inet_listener<span class="w"> </span>pop3<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">110</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span>...
<span class="o">}</span>
...
<span class="w">  </span><span class="c1"># Postfix smtp-auth</span>
<span class="w">  </span>unix_listener<span class="w"> </span>/var/spool/postfix/private/auth<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0660</span>
<span class="w">    </span><span class="nv">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>postfix
<span class="w">    </span><span class="nv">group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>postfix
<span class="w">  </span><span class="o">}</span>
...
</code></pre></div>
<h4 id="10-sslconf">10-ssl.conf</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># SSL/TLS support: yes, no, required. &lt;doc/wiki/SSL.txt&gt;</span>
<span class="nv">ssl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>yes

<span class="c1"># PEM encoded X.509 SSL/TLS certificate and private key. They&#39;re opened before</span>
<span class="c1"># dropping root privileges, so keep the key file unreadable by anyone but</span>
<span class="c1"># root. Included doc/mkcert.sh can be used to easily generate self-signed</span>
<span class="c1"># certificate, just make sure to update the domains in dovecot-openssl.cnf</span>
<span class="nv">ssl_cert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>&lt;/etc/ssl/certs/mymail.crt
<span class="nv">ssl_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>&lt;/etc/ssl/private/mymail.key
</code></pre></div>
<h4 id="20-pop3conf">20-pop3.conf</h4>
<p>Esta opcion solo en caso de querer utilizar pop3</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Note that Outlook 2003 seems to have problems with %v.%u format which was</span>
<span class="c1"># Dovecot&#39;s default, so if you&#39;re building a new server it would be a good</span>
<span class="c1"># idea to change this. %08Xu%08Xv should be pretty fail-safe.</span>
<span class="nv">pop3_uidl_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>%08Xu%08Xv
</code></pre></div>
<h3 id="opcional-seguridad">Opcional seguridad</h3>
<p>Requerir un comando HELO o EHLO válido con un nombre de dominio completamente calificado puede hacer precisamente eso</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_helo_required = yes&#39;</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_helo_restrictions = reject_non_fqdn_helo_hostname,reject_invalid_helo_hostname,reject_unknown_helo_hostname&#39;</span>


<span class="c1"># desabiliar veryfy para evitar exponer conf de usuario sensible</span>
sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;disable_vrfy_command = yes&#39;</span>
</code></pre></div>
<p>También es posible que desee retrasar el mensaje de rechazo para permitir que  Postfix registre la información de la dirección del destinatario cuando  el cliente conectado infringe alguna de las reglas de rechazo. Esto le  permite averiguar más tarde a quién intentaban apuntar los spammers.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_delay_reject = yes&#39;</span>
</code></pre></div>
<p>Las restricciones de destinatario de Postfix que se establecieron en la  parte de configuración de SASL son importantes para proteger el servidor al tiempo que permiten a los usuarios conectarse con clientes de correo electrónico como Thunderbird o Outlook. Mantener estos parámetros en el orden correcto conservará esta capacidad, pero puede incluir  restricciones adicionales que los mensajes entrantes deberán cumplir.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>postconf<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;smtpd_recipient_restrictions = permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination,reject_invalid_hostname,reject_non_fqdn_hostname,reject_non_fqdn_sender,reject_non_fqdn_recipient,reject_unknown_sender_domain,reject_rbl_client sbl.spamhaus.org,reject_rbl_client cbl.abuseat.org&#39;</span>
</code></pre></div>
<p>Los parámetros anteriores se explican por sí mismos, aunque un poco  difíciles de leer en un formato de terminal fácil de copiar y pegar. La  idea general es rechazar las conexiones de direcciones inventadas que no usan un nombre de dominio completo o simplemente no existen. Aquí  también es posible agregar filtros de spam externos como las listas  negras de Spamhaus o CBL. Si desea obtener más información, Postfix  tiene una documentación muy extensa sobre sus opciones de configuración.</p>
<p>http://www.postfix.org/postconf.5.html#smtpd_recipient_restrictions</p>
<h3 id="comprobar-funcionamiento_1">Comprobar funcionamiento</h3>
<div class="highlight"><pre><span></span><code>root@debmail:~#<span class="w"> </span>openssl<span class="w"> </span>s_client<span class="w"> </span>-connect<span class="w"> </span>correo.mymail.com:993
CONNECTED<span class="o">(</span><span class="m">00000003</span><span class="o">)</span>
....

Por<span class="w"> </span>aqui<span class="w"> </span>en<span class="w"> </span>medio<span class="w"> </span>sale<span class="w"> </span>string<span class="w"> </span>sobre<span class="w"> </span>el<span class="w"> </span>certificado

....
*<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>CAPABILITY<span class="w"> </span>IMAP4rev1<span class="w"> </span>SASL-IR<span class="w"> </span>LOGIN-REFERRALS<span class="w"> </span>ID<span class="w"> </span>ENABLE<span class="w"> </span>IDLE<span class="w"> </span>LITERAL+<span class="w"> </span><span class="nv">AUTH</span><span class="o">=</span>PLAIN<span class="w"> </span><span class="nv">AUTH</span><span class="o">=</span>LOGIN<span class="o">]</span><span class="w"> </span>Dovecot<span class="w"> </span><span class="o">(</span>Debian<span class="o">)</span><span class="w"> </span>ready.
.<span class="w"> </span>login<span class="w"> </span>ventas@mymail.com<span class="w"> </span>ventas
.<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>CAPABILITY<span class="w"> </span>IMAP4rev1<span class="w"> </span>SASL-IR<span class="w"> </span>LOGIN-REFERRALS<span class="w"> </span>ID<span class="w"> </span>ENABLE<span class="w"> </span>IDLE<span class="w"> </span>SORT<span class="w"> </span><span class="nv">SORT</span><span class="o">=</span>DISPLAY<span class="w"> </span><span class="nv">THREAD</span><span class="o">=</span>REFERENCES<span class="w"> </span><span class="nv">THREAD</span><span class="o">=</span>REFS<span class="w"> </span><span class="nv">THREAD</span><span class="o">=</span>ORDEREDSUBJECT<span class="w"> </span>MULTIAPPEND<span class="w"> </span>URL-PARTIAL<span class="w"> </span>CATENATE<span class="w"> </span>UNSELECT<span class="w"> </span>CHILDREN<span class="w"> </span>NAMESPACE<span class="w"> </span>UIDPLUS<span class="w"> </span>LIST-EXTENDED<span class="w"> </span><span class="nv">I18NLEVEL</span><span class="o">=</span><span class="m">1</span><span class="w"> </span>CONDSTORE<span class="w"> </span>QRESYNC<span class="w"> </span>ESEARCH<span class="w"> </span>ESORT<span class="w"> </span>SEARCHRES<span class="w"> </span>WITHIN<span class="w"> </span><span class="nv">CONTEXT</span><span class="o">=</span>SEARCH<span class="w"> </span>LIST-STATUS<span class="w"> </span>BINARY<span class="w"> </span>MOVE<span class="w"> </span><span class="nv">SNIPPET</span><span class="o">=</span>FUZZY<span class="w"> </span>LITERAL+<span class="w"> </span>NOTIFY<span class="w"> </span>SPECIAL-USE<span class="o">]</span><span class="w"> </span>Logged<span class="w"> </span><span class="k">in</span>
.<span class="w"> </span><span class="k">select</span><span class="w"> </span>INBOX
*<span class="w"> </span>FLAGS<span class="w"> </span><span class="o">(</span><span class="se">\A</span>nswered<span class="w"> </span><span class="se">\F</span>lagged<span class="w"> </span><span class="se">\D</span>eleted<span class="w"> </span><span class="se">\S</span>een<span class="w"> </span><span class="se">\D</span>raft<span class="o">)</span>
*<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>PERMANENTFLAGS<span class="w"> </span><span class="o">(</span><span class="se">\A</span>nswered<span class="w"> </span><span class="se">\F</span>lagged<span class="w"> </span><span class="se">\D</span>eleted<span class="w"> </span><span class="se">\S</span>een<span class="w"> </span><span class="se">\D</span>raft<span class="w"> </span><span class="se">\*</span><span class="o">)]</span><span class="w"> </span>Flags<span class="w"> </span>permitted.
*<span class="w"> </span><span class="m">1</span><span class="w"> </span>EXISTS
*<span class="w"> </span><span class="m">0</span><span class="w"> </span>RECENT
*<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>UIDVALIDITY<span class="w"> </span><span class="m">1609316456</span><span class="o">]</span><span class="w"> </span>UIDs<span class="w"> </span>valid
*<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>UIDNEXT<span class="w"> </span><span class="m">5</span><span class="o">]</span><span class="w"> </span>Predicted<span class="w"> </span>next<span class="w"> </span>UID
.<span class="w"> </span>OK<span class="w"> </span><span class="o">[</span>READ-WRITE<span class="o">]</span><span class="w"> </span>Select<span class="w"> </span>completed<span class="w"> </span><span class="o">(</span><span class="m">0</span>.033<span class="w"> </span>+<span class="w"> </span><span class="m">0</span>.000<span class="w"> </span>+<span class="w"> </span><span class="m">0</span>.037<span class="w"> </span>secs<span class="o">)</span>.
.<span class="w"> </span><span class="nb">logout</span>
*<span class="w"> </span>BYE<span class="w"> </span>Logging<span class="w"> </span>out
.<span class="w"> </span>OK<span class="w"> </span>Logout<span class="w"> </span>completed<span class="w"> </span><span class="o">(</span><span class="m">0</span>.005<span class="w"> </span>+<span class="w"> </span><span class="m">0</span>.000<span class="w"> </span>+<span class="w"> </span><span class="m">0</span>.005<span class="w"> </span>secs<span class="o">)</span>.
closed
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../samba/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Samba" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Samba
            </div>
          </div>
        </a>
      
      
        
        <a href="../server-mensajeria/" class="md-footer__link md-footer__link--next" aria-label="Next: Server mensajeria instantanea" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Server mensajeria instantanea
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.bd0b6b67.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.467223ff.min.js"></script>
      
    
  </body>
</html>