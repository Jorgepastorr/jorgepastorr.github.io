



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://jorgepastorr.github.io/apuntes/lenguajes/python3/apuntes_bases/">
      
      
        <meta name="author" content="Jorge Pastor">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Apuntes bases - Apuntes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://jorgepastorr.github.io/apuntes/" title="Apuntes" aria-label="Apuntes" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Apuntes
            </span>
            <span class="md-header-nav__topic">
              
                Apuntes bases
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://jorgepastorr.github.io/apuntes/" title="Apuntes" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Apuntes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jorgepastorr/apuntes/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jorgepastorr/apuntes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Apuntes Jorgepastorr" class="md-nav__link">
      Apuntes Jorgepastorr
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Administracion
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Administracion
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Configurar_pantallas_manualmente/" title="Configurar pantallas manualmente" class="md-nav__link">
      Configurar pantallas manualmente
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Debian_hostname_dinamico/" title="Debian hostname dinamico" class="md-nav__link">
      Debian hostname dinamico
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Mutt/" title="Que es mutt?" class="md-nav__link">
      Que es mutt?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Procesos/" title="Procesos" class="md-nav__link">
      Procesos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Resetear_la_password_root/" title="Resetear la password root." class="md-nav__link">
      Resetear la password root.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/Vim/" title="Vim atajos básicos" class="md-nav__link">
      Vim atajos básicos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/awk/" title="Uso básico de AWK" class="md-nav__link">
      Uso básico de AWK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/freeipa/" title="FreeIpa" class="md-nav__link">
      FreeIpa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/instalar_webmin/" title="instalar webmin" class="md-nav__link">
      instalar webmin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/per/" title="PER" class="md-nav__link">
      PER
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/permisos_avanzados/" title="Permisos avanzados" class="md-nav__link">
      Permisos avanzados
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/samba/" title="Samba" class="md-nav__link">
      Samba
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/server-correo/" title="Servidor Correo" class="md-nav__link">
      Servidor Correo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/server-mensajeria/" title="Server mensajeria instantanea" class="md-nav__link">
      Server mensajeria instantanea
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/ssh/" title="ssh" class="md-nav__link">
      ssh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/sudo/" title="sudo" class="md-nav__link">
      sudo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/umask/" title="umask" class="md-nav__link">
      umask
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/usuarios/" title="Usuarios" class="md-nav__link">
      Usuarios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/vnc/" title="vnc" class="md-nav__link">
      vnc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/webdav/" title="webdav" class="md-nav__link">
      webdav
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-21" type="checkbox" id="nav-2-21">
    
    <label class="md-nav__link" for="nav-2-21">
      Ldap
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-21">
        Ldap
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/ldap/Ldap-Samba-Hostpam/" title="Ldap - Samba - Hostpam" class="md-nav__link">
      Ldap - Samba - Hostpam
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/ldap/acl_ejercicios/" title="Acl ejercicios" class="md-nav__link">
      Acl ejercicios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/ldap/host-kerberos-con-ldap/" title="Instalación host ldap-kerberos" class="md-nav__link">
      Instalación host  ldap-kerberos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/ldap/ldap/" title="ldap" class="md-nav__link">
      ldap
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-22" type="checkbox" id="nav-2-22">
    
    <label class="md-nav__link" for="nav-2-22">
      Pxe
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-22">
        Pxe
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/pxe/Servidor-pxe-con-rapberry/" title="Servidor pxe con rapberry" class="md-nav__link">
      Servidor pxe con rapberry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/pxe/guiapxe-fedora/" title="Guiapxe fedora" class="md-nav__link">
      Guiapxe fedora
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-23" type="checkbox" id="nav-2-23">
    
    <label class="md-nav__link" for="nav-2-23">
      Redes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-23">
        Redes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/redes/apuntes-xarxa/" title="APUNTS DE XARXES" class="md-nav__link">
      APUNTS DE XARXES
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/redes/comandos_router_switch/" title="Configuració de Routers" class="md-nav__link">
      Configuració de Routers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/redes/haproxy/" title="Haproxy" class="md-nav__link">
      Haproxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../administracion/redes/redes2/" title="Redes2" class="md-nav__link">
      Redes2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Auditoria
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Auditoria
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../auditoria/apuntes_hacking/" title="Haking ético" class="md-nav__link">
      Haking ético
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Bases datos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Bases datos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Mongo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Mongo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bases_datos/mongo/Mongo/" title="Mongo" class="md-nav__link">
      Mongo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Postgres
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Postgres
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bases_datos/postgres/bases/" title="Postgres" class="md-nav__link">
      Postgres
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bases_datos/postgres/modificaciones/" title="Modificación tablas" class="md-nav__link">
      Modificación tablas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bases_datos/postgres/plpgsql/" title="Plpgsql" class="md-nav__link">
      Plpgsql
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bases_datos/postgres/postgresql-intalacion/" title="Postgresql intalacion" class="md-nav__link">
      Postgresql intalacion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Cloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cloud/aws/" title="aws" class="md-nav__link">
      aws
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Curiosidades
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Curiosidades
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/Eliminar_contrase%C3%B1a_windows/" title="Eliminar contraseña windows" class="md-nav__link">
      Eliminar contraseña windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/Lanzador_aplicaciones_en_gnome/" title="Lanzador aplicaciones en gnome" class="md-nav__link">
      Lanzador aplicaciones en gnome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/cambiar_color_promp_terminal/" title="Cambiar color promp terminal" class="md-nav__link">
      Cambiar color promp terminal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/conky/" title="conky" class="md-nav__link">
      conky
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/openbox/" title="Openbox" class="md-nav__link">
      Openbox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/qbit/" title="Qbit" class="md-nav__link">
      Qbit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../curiosidades/tmux/" title="Tmux" class="md-nav__link">
      Tmux
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Desatendidas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Desatendidas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../desatendidas/" title="Desatendidas" class="md-nav__link">
      Desatendidas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../desatendidas/Instalacion-desatendida-debian/" title="Instalacion desatendida debian" class="md-nav__link">
      Instalacion desatendida debian
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../desatendidas/desatendida-windows/" title="Desatendida windows" class="md-nav__link">
      Desatendida windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../desatendidas/kikstart/" title="Kikstart" class="md-nav__link">
      Kikstart
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Generar doc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Generar doc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generar_doc/docsify/" title="Docsify" class="md-nav__link">
      Docsify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../generar_doc/remark/" title="Remark" class="md-nav__link">
      Remark
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Lenguajes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Lenguajes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Fundamentos_php/" title="Fundamentos php" class="md-nav__link">
      Fundamentos php
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Shell/" title="Shell" class="md-nav__link">
      Shell
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3" checked>
    
    <label class="md-nav__link" for="nav-9-3">
      Python3
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-3">
        Python3
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Apuntes-Metodos/" title="Métodos de colecciones" class="md-nav__link">
      Métodos de colecciones
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-Funcionalidades_avanzadas/" title="apuntes Funcionalidades avanzadas" class="md-nav__link">
      apuntes Funcionalidades avanzadas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-Herencia/" title="Herencias" class="md-nav__link">
      Herencias
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-distribucion/" title="Distribución" class="md-nav__link">
      Distribución
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-documentacion/" title="Documentación" class="md-nav__link">
      Documentación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-ficheros/" title="Apuntes ficheros" class="md-nav__link">
      Apuntes ficheros
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-fundamento/" title="Python fundamentos" class="md-nav__link">
      Python fundamentos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-modulos/" title="Módulos" class="md-nav__link">
      Módulos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-orientado-objetos/" title="Orientado a objetos" class="md-nav__link">
      Orientado a objetos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-test/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apuntes-tkinter/" title="Tkinter" class="md-nav__link">
      Tkinter
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Apuntes bases" class="md-nav__link md-nav__link--active">
      Apuntes bases
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../argparse/" title="Argparse" class="md-nav__link">
      Argparse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Seguridad
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Seguridad
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/Certificados-Digitales/" title="Certificados Digitales" class="md-nav__link">
      Certificados Digitales
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/Kerberos/" title="Kerberos" class="md-nav__link">
      Kerberos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/OpenVpn/" title="OpenVpn" class="md-nav__link">
      OpenVpn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/The-crazy-thing/" title="The crazy thing!" class="md-nav__link">
      The crazy thing!
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/TunelSSH/" title="Tunel SSH" class="md-nav__link">
      Tunel SSH
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/gpg/" title="GPG" class="md-nav__link">
      GPG
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/lvm/" title="Lvm logical volum manager" class="md-nav__link">
      Lvm logical volum manager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/practica-ssl-tls/" title="Practica ssl tls" class="md-nav__link">
      Practica ssl tls
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/raid/" title="Raid" class="md-nav__link">
      Raid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-10" type="checkbox" id="nav-10-10">
    
    <label class="md-nav__link" for="nav-10-10">
      Backups
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-10">
        Backups
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/backups/Borg_basico/" title="Borg básico" class="md-nav__link">
      Borg básico
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/backups/Tar/" title="Tar" class="md-nav__link">
      Tar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/backups/rdiff-backup/" title="rdiff-backup" class="md-nav__link">
      rdiff-backup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/backups/rsync/" title="rsync" class="md-nav__link">
      rsync
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-11" type="checkbox" id="nav-10-11">
    
    <label class="md-nav__link" for="nav-10-11">
      Cortafuegos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-11">
        Cortafuegos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../seguridad/cortafuegos/Iptables/" title="Iptables" class="md-nav__link">
      Iptables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Sistemas
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Sistemas
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/Actualizar_hora_sys_o_bios/" title="Gestionar Hora" class="md-nav__link">
      Gestionar Hora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/Arranque-del-sistema/" title="Arranque del sistema" class="md-nav__link">
      Arranque del sistema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/Estructura_de_directorios/" title="Estructura de directorios" class="md-nav__link">
      Estructura de directorios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/Logs/" title="Logs del sistema" class="md-nav__link">
      Logs del sistema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/Systemd/" title="Systemd" class="md-nav__link">
      Systemd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/chroot/" title="Chroot" class="md-nav__link">
      Chroot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/disco/" title="Disco" class="md-nav__link">
      Disco
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/gestores_de_paquetes/" title="Gestores de paquetes" class="md-nav__link">
      Gestores de paquetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/getenforce/" title="getenforce" class="md-nav__link">
      getenforce
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/grub/" title="Grub" class="md-nav__link">
      Grub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/home/" title="Cambiar /home" class="md-nav__link">
      Cambiar /home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/ip_est%C3%A1tica/" title="ip estática raspberry" class="md-nav__link">
      ip estática raspberry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/pam/" title="Pam" class="md-nav__link">
      Pam
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/raid/" title="Raid" class="md-nav__link">
      Raid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/xinetd/" title="xinetd" class="md-nav__link">
      xinetd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-16" type="checkbox" id="nav-11-16">
    
    <label class="md-nav__link" for="nav-11-16">
      Automatizacion
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-16">
        Automatizacion
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/automatizacion/ansible/" title="Ansible" class="md-nav__link">
      Ansible
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../sistemas/automatizacion/tareas_programadas/" title="Tareas Programadas" class="md-nav__link">
      Tareas Programadas
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Virtualizacion
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Virtualizacion
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/Docker-basico/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/Lxc/" title="LXC y LXD" class="md-nav__link">
      LXC y LXD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/Vagrant/" title="Vagrant" class="md-nav__link">
      Vagrant
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/swarm/" title="Swarm" class="md-nav__link">
      Swarm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-6" type="checkbox" id="nav-12-6">
    
    <label class="md-nav__link" for="nav-12-6">
      Virt manager
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-6">
        Virt manager
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/Backing_chain/" title="Backing_chain" class="md-nav__link">
      Backing_chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/Clonar/" title="Clonar de virtual a físico y de físico a virtual." class="md-nav__link">
      Clonar de virtual a físico y de físico a virtual.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/Instalacion_de_virtualizacion_fedora/" title="Instalación de virtualización fedora" class="md-nav__link">
      Instalación de virtualización fedora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/acceder_consola_desde_virsh/" title="acceder consola desde virsh" class="md-nav__link">
      acceder consola desde virsh
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/crear_red_aislada/" title="Crear red aislada" class="md-nav__link">
      Crear red aislada
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../virtualizacion/virt-manager/instalar_maquina_virtual_virt-install/" title="virt" class="md-nav__link">
      virt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jorgepastorr/apuntes/edit/master/docs/lenguajes/python3/apuntes_bases.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h4 id="_1"></h4>
<h1 id="base-de-datos">Base de datos</h1>
<p>En las conexiones a bases de datos desde python se siguen 4 pasos muy simples.</p>
<ul>
<li><code>import</code> importar el modulo de la base de datos especifica</li>
<li><code>connect</code>  establecer la conexión con la base de datos</li>
<li><code>execute</code>  ejecutar el commando que uno quiere introducir</li>
<li><code>close</code> cerrar la conexión.</li>
</ul>
<p>Las demás opciones ya son extras de como mostrar el string, commandos múltiples, etc.. Los commandos serán iguales que como si los lanzáramos desde la terminal.</p>
<h2 id="conexion-a-la-base-de-datos">Conexión a la base de datos</h2>
<p><strong>Sqlite</strong>   </p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Importamos el módulo</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># Nos conectamos a la base de datos ejemplo.db (la crea si no existe)</span>
<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>

<span class="c1"># Cerramos la conexión, si no la cerramos se mantendrá en uso y no podremos gestionar el fichero</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p><strong>Postgres</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">psycopg2</span>

<span class="c1"># Conexion con base de datos</span>
<span class="n">conexion</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s2">&quot;training&quot;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">)</span>

<span class="c1"># Cierro la conexion</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="creacion-de-una-tabla-utilizando-sintaxis-sql">Creación de una tabla utilizando sintaxis SQL</h2>
<p>Antes de ejecutar una consulta (query) en código SQL, tenemos que crear un cursor.</p>
<p><strong>Una vez creada la tabla, si intentamos volver a crearla dará error indicándonos que esta ya existe.</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>

<span class="c1"># Creamos el cursor</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Ahora crearemos una tabla de usuarios para almacenar nombres, edades y emails</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE TABLE usuarios (nombre VARCHAR(100), edad INTEGER, email VARCHAR(100))&quot;</span><span class="p">)</span>

<span class="c1"># Guardamos los cambios haciendo un commit</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="insertando-un-registro">Insertando un registro</h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Insertamos un registro en la tabla de usuarios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (&#39;Hector&#39;, 27, &#39;hector@ejemplo.com&#39;)&quot;</span><span class="p">)</span>

<span class="c1"># Guardamos los cambios haciendo un commit</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="insertando-varios-registros-con-executemany">Insertando varios registros con .executemany()</h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Creamos una lista con varios usuarios</span>
<span class="n">usuarios</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Mario&#39;</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;mario@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Mercedes&#39;</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;mercedes@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;Juan&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;juan@ejemplo.com&#39;</span><span class="p">)</span>
            <span class="p">]</span>

<span class="c1"># Ahora utilizamos el método executemany() para insertar varios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (?,?,?)&quot;</span><span class="p">,</span> <span class="n">usuarios</span><span class="p">)</span>

<span class="c1"># Guardamos los cambios haciendo un commit</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h2 id="recuperando-el-primer-registro-con-fetchone">Recuperando el primer registro con .fetchone()</h2>
<p><code>fetchone</code> devuelve una fila, cada vez que se vuelve a llamar devuelve la fila siguiente hasta que da error por no haber mas filas.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Recuperamos los registros de la tabla de usuarios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM usuarios&quot;</span><span class="p">)</span>

<span class="c1"># Mostrar el cursos a ver que hay ?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span>

<span class="c1"># Recorremos el primer registro con el método fetchone, devuelve una tupla</span>
<span class="n">usuario</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchone</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="err">(&#39;Hector&#39;, 27, &#39;hector@ejemplo.com&#39;)</span>
</code></pre></div>

<h2 id="_2"></h2>
<h2 id="recuperando-varios-registros-con-fetchall">Recuperando varios registros con .fetchall()</h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;ejemplo.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Recuperamos los registros de la tabla de usuarios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM usuarios&quot;</span><span class="p">)</span>

<span class="c1"># Recorremos todos los registros con fetchall, y los volvamos en una lista de usuarios</span>
<span class="n">usuarios</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="c1"># Ahora podemos recorrer todos los usuarios</span>
<span class="k">for</span> <span class="n">usuario</span> <span class="ow">in</span> <span class="n">usuarios</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="err">(&#39;Hector&#39;, 27, &#39;hector@ejemplo.com&#39;)</span>
<span class="err">(&#39;Mario&#39;, 51, &#39;mario@ejemplo.com&#39;)</span>
<span class="err">(&#39;Mercedes&#39;, 38, &#39;mercedes@ejemplo.com&#39;)</span>
<span class="err">(&#39;Juan&#39;, 19, &#39;juan@ejemplo.com&#39;)</span>
</code></pre></div>


<h2 id="utilizando-db-browser">Utilizando DB Browser</h2>
<p>Es un programa externo para ver, modificar, etc.. bases de datos sqlite.</p>
<p>http://sqlitebrowser.org/</p>
<h4 id="_3"></h4>
<h2 id="claves-primarias">Claves primarias</h2>
<p>Una clave primaria es un campo especial de una tabla que actúa como identificador único de los registros, en otras palabras, no se puede repetir un registro con la misma clave primaria. Por ejemplo dos usuarios con el mismo DNI:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;usuarios.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Creamos un campo dni como clave primaria</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;CREATE TABLE usuarios (</span>
<span class="s1">                    dni VARCHAR(9) PRIMARY KEY,</span>
<span class="s1">                    nombre VARCHAR(100), </span>
<span class="s1">                    edad INTEGER,</span>
<span class="s1">                    email VARCHAR(100))&#39;&#39;&#39;</span><span class="p">)</span>

<span class="n">usuarios</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;11111111A&#39;</span><span class="p">,</span> <span class="s1">&#39;Hector&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="s1">&#39;hector@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;22222222B&#39;</span><span class="p">,</span> <span class="s1">&#39;Mario&#39;</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;mario@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;33333333C&#39;</span><span class="p">,</span> <span class="s1">&#39;Mercedes&#39;</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;mercedes@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;44444444D&#39;</span><span class="p">,</span> <span class="s1">&#39;Juan&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;juan@ejemplo.com&#39;</span><span class="p">)]</span>

<span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (?,?,?,?)&quot;</span><span class="p">,</span> <span class="n">usuarios</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p><strong>Si ahora intentamos introducir un registro con un DNI duplicado, saltará un error:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;usuarios.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Añadimos un usuario con el mismo DNI</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (&#39;11111111A&#39;, &#39;Fernando&#39;, 31, &#39;fernando@ejemplo.com&#39;)&quot;</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1">---------------------------------------------------------------------------</span>

<span class="n">IntegrityError</span><span class="w">                            </span><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">last</span><span class="p">)</span><span class="w"></span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="k">input</span><span class="o">-</span><span class="mi">88</span><span class="o">-</span><span class="mi">1</span><span class="n">f8a69b706db</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="o">&gt;</span><span class="p">()</span><span class="w"></span>
<span class="w">      </span><span class="mi">6</span><span class="w"> </span>
<span class="w">      </span><span class="mi">7</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Añadimos</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">mismo</span><span class="w"> </span><span class="n">DNI</span><span class="w"></span>
<span class="c1">----&gt; 8 cursor.execute(&quot;INSERT INTO usuarios VALUES (&#39;11111111A&#39;, &#39;Fernando&#39;, 31, &#39;fernando@ejemplo.com&#39;)&quot;)</span>
<span class="w">      </span><span class="mi">9</span><span class="w"> </span>
<span class="w">     </span><span class="mi">10</span><span class="w"> </span><span class="n">conexion</span><span class="p">.</span><span class="k">commit</span><span class="p">()</span><span class="w"></span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">IntegrityError</span><span class="o">:</span> <span class="n">UNIQUE</span> <span class="n">constraint</span> <span class="n">failed</span><span class="o">:</span> <span class="n">usuarios</span><span class="o">.</span><span class="na">dni</span>
</code></pre></div>

<h2 id="campos-autoincrementales">Campos autoincrementales</h2>
<p>No siempre contaremos con claves primarias en nuestras tablas (como el DNI), sin embargo siempre necesitaremos uno para identificar cada registro y poder consultarlo, modificarlo o borrarlo. </p>
<p>Para estas situaciones lo más útil es utilizar campos autoincrementales, campos especiales que asignan automáticamente un número (de uno en uno) al crear un nuevo registro. Es muy útil para identificar de forma única cada registro ya que nunca se repiten.</p>
<p>En SQLite, si indicamos que un campo numérico entero es una clave primaria, automáticamente se tomará como un campo auto incremental. Podemos hacerlo fácilmente así:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;productos.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Las cláusulas not null indican que no puede ser campos vacíos</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;CREATE TABLE productos (</span>
<span class="s1">                    id INTEGER PRIMARY KEY AUTOINCREMENT, </span>
<span class="s1">                    nombre VARCHAR(100) NOT NULL, </span>
<span class="s1">                    marca VARCHAR(50) NOT NULL, </span>
<span class="s1">                    precio FLOAT NOT NULL)&#39;&#39;&#39;</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<h3 id="problema-al-insertar-registros-con-campos-autoincrementales">¡Problema al insertar registros con campos autoincrementales!</h3>
<p>Al utilizar un nuevo campo autoincremental, la sintaxis sencilla para insertar registros ya no funciona, pues en primer lugar se espera un identificador único, por lo que recibimos un error indicándonos se esperan 4 columnas en lugar de 3:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;productos.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">productos</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Teclado&#39;</span><span class="p">,</span> <span class="s1">&#39;Logitech&#39;</span><span class="p">,</span> <span class="mf">19.95</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Pantalla 19&quot;&#39;</span> <span class="s1">&#39;LG&#39;</span><span class="p">,</span> <span class="mf">89.95</span><span class="p">),]</span>

<span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="s2">&quot;INSERT INTO productos VALUES (?,?,?)&quot;</span><span class="p">,</span> <span class="n">productos</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1">---------------------------------------------------------------------------</span>

<span class="n">OperationalError</span>                          <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="k">call</span> <span class="k">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="k">input</span><span class="o">-</span><span class="mi">96</span><span class="o">-</span><span class="mi">7</span><span class="n">b99f15c4bb5</span><span class="o">&gt;</span> <span class="k">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="mi">8</span>              <span class="p">(</span><span class="s1">&#39;Pantalla 19&quot;&#39;</span> <span class="s1">&#39;LG&#39;</span><span class="p">,</span> <span class="mi">89</span><span class="p">.</span><span class="mi">95</span><span class="p">),]</span>
      <span class="mi">9</span> 
<span class="c1">---&gt; 10 cursor.executemany(&quot;INSERT INTO productos VALUES (?,?,?)&quot;, productos)</span>
     <span class="mi">11</span> 
     <span class="mi">12</span> <span class="n">conexion</span><span class="p">.</span><span class="k">commit</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">OperationalError</span><span class="o">:</span> <span class="n">table</span> <span class="n">productos</span> <span class="n">has</span> <span class="mi">4</span> <span class="n">columns</span> <span class="n">but</span> <span class="mi">3</span> <span class="n">values</span> <span class="n">were</span> <span class="n">supplied</span>
</code></pre></div>

<p><strong>Para arreglarlo cambiaremos la notación durante la inserción, especificando el valor null para el auto incremento:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;productos.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="n">productos</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Teclado&#39;</span><span class="p">,</span> <span class="s1">&#39;Logitech&#39;</span><span class="p">,</span> <span class="mf">19.95</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Pantalla 19&quot;&#39;</span><span class="p">,</span><span class="s1">&#39;LG&#39;</span><span class="p">,</span> <span class="mf">89.95</span><span class="p">),</span>
             <span class="p">(</span><span class="s1">&#39;Altavoces 2.1&#39;</span><span class="p">,</span><span class="s1">&#39;LG&#39;</span><span class="p">,</span> <span class="mf">24.95</span><span class="p">),]</span>

<span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="s2">&quot;INSERT INTO productos VALUES (null,?,?,?)&quot;</span><span class="p">,</span> <span class="n">productos</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p><strong>Ahora podemos consultar nuestros productos fácilmente con su identificador único:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;productos.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Recuperamos los registros de la tabla de usuarios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM productos&quot;</span><span class="p">)</span>

<span class="c1"># Recorremos todos los registros con fetchall, y los volvamos en una lista de usuarios</span>
<span class="n">productos</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="c1"># Ahora podemos recorrer todos los productos</span>
<span class="k">for</span> <span class="n">producto</span> <span class="ow">in</span> <span class="n">productos</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">producto</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="err">(1, &#39;Teclado&#39;, &#39;Logitech&#39;, 19.95)</span>
<span class="err">(2, &#39;Pantalla 19&quot;&#39;, &#39;LG&#39;, 89.95)</span>
<span class="err">(3, &#39;Altavoces 2.1&#39;, &#39;LG&#39;, 24.95)</span>
</code></pre></div>

<h2 id="claves-unicas">Claves únicas</h2>
<p>El problema con las claves primarias es que sólo podemos tener un campo con esta propiedad, y si da la casualidad que utilizamos un campo autoincremental, ya no podemos asignarla a otro campo.</p>
<p>Para estos casos existen las claves únicas, que nos permiten añadir otros campos únicos no repetibles.</p>
<p>Podemos adaptar el ejemplo de los usuarios con un campo autoincremental que haga de clave primaria, y a su vez marcar el DNI como un campo único:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;usuarios_autoincremental.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Creamos un campo dni como clave primaria</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;CREATE TABLE usuarios (</span>
<span class="s1">                    id INTEGER PRIMARY KEY,</span>
<span class="s1">                    dni VARCHAR(9) UNIQUE,</span>
<span class="s1">                    nombre VARCHAR(100), </span>
<span class="s1">                    edad INTEGER(3),</span>
<span class="s1">                    email VARCHAR(100))&#39;&#39;&#39;</span><span class="p">)</span>

<span class="n">usuarios</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;11111111A&#39;</span><span class="p">,</span> <span class="s1">&#39;Hector&#39;</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="s1">&#39;hector@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;22222222B&#39;</span><span class="p">,</span> <span class="s1">&#39;Mario&#39;</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="s1">&#39;mario@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;33333333C&#39;</span><span class="p">,</span> <span class="s1">&#39;Mercedes&#39;</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;mercedes@ejemplo.com&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;44444444D&#39;</span><span class="p">,</span> <span class="s1">&#39;Juan&#39;</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;juan@ejemplo.com&#39;</span><span class="p">)]</span>

<span class="n">cursor</span><span class="o">.</span><span class="n">executemany</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (null, ?,?,?,?)&quot;</span><span class="p">,</span> <span class="n">usuarios</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<p><strong>Si intentamos añadir un usuario con la misma clave da error de integridad:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;usuarios_autoincremental.db&#39;</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Añadimos un usuario con el mismo DNI</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO usuarios VALUES (null, &#39;11111111A&#39;, &#39;Fernando&#39;, 31, &#39;fernando@ejemplo.com&#39;)&quot;</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="c1">---------------------------------------------------------------------------</span>

<span class="n">IntegrityError</span><span class="w">                            </span><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">last</span><span class="p">)</span><span class="w"></span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="k">input</span><span class="o">-</span><span class="mi">100</span><span class="o">-</span><span class="n">fdd36d467cfc</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="o">&gt;</span><span class="p">()</span><span class="w"></span>
<span class="w">      </span><span class="mi">6</span><span class="w"> </span>
<span class="w">      </span><span class="mi">7</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Añadimos</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="n">con</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">mismo</span><span class="w"> </span><span class="n">DNI</span><span class="w"></span>
<span class="c1">----&gt; 8 cursor.execute(&quot;INSERT INTO usuarios VALUES (null, &#39;11111111A&#39;, &#39;Fernando&#39;, 31, &#39;fernando@ejemplo.com&#39;)&quot;)</span>
<span class="w">      </span><span class="mi">9</span><span class="w"> </span>
<span class="w">     </span><span class="mi">10</span><span class="w"> </span><span class="n">conexion</span><span class="p">.</span><span class="k">commit</span><span class="p">()</span><span class="w"></span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">IntegrityError</span><span class="o">:</span> <span class="n">UNIQUE</span> <span class="n">constraint</span> <span class="n">failed</span><span class="o">:</span> <span class="n">usuarios</span><span class="o">.</span><span class="na">dni</span>
</code></pre></div>

<p><strong>Con la ventaja de contar con un identificador automático para cada registro:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="n">conexion</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;usuarios_autoincremental.db&#39;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">conexion</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

<span class="c1"># Recuperamos los registros de la tabla de usuarios</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM usuarios&quot;</span><span class="p">)</span>

<span class="c1"># Recorremos todos los registros con fetchall, y los volvamos en una lista de usuarios</span>
<span class="n">usuarios</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

<span class="c1"># Ahora podemos recorrer todos los usuarios</span>
<span class="k">for</span> <span class="n">usuario</span> <span class="ow">in</span> <span class="n">usuarios</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>

<span class="n">conexion</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="err">(1, &#39;11111111A&#39;, &#39;Hector&#39;, 27, &#39;hector@ejemplo.com&#39;)</span>
<span class="err">(2, &#39;22222222B&#39;, &#39;Mario&#39;, 51, &#39;mario@ejemplo.com&#39;)</span>
<span class="err">(3, &#39;33333333C&#39;, &#39;Mercedes&#39;, 38, &#39;mercedes@ejemplo.com&#39;)</span>
<span class="err">(4, &#39;44444444D&#39;, &#39;Juan&#39;, 19, &#39;juan@ejemplo.com&#39;)</span>
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../apuntes-tkinter/" title="Tkinter" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tkinter
              </span>
            </div>
          </a>
        
        
          <a href="../argparse/" title="Argparse" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Argparse
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../../.."}})</script>
      
    
  </body>
</html>